[{"data":1,"prerenderedAt":823},["ShallowReactive",2],{"post":3,"content-query-Lh02LxA31p":465},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"imagesource":10,"imagecredit":10,"image":11,"createdAt":12,"updatedAt":12,"readingTime":13,"body":18,"_type":459,"_id":460,"_source":461,"_file":462,"_stem":463,"_extension":464},"/posts/reading-hfuse-lfuse-and-efuse-arduno-ide","posts",false,"","Reading hFuse, lFuse and eFuse from Arduno IDE.","How to read an ATmega328P's hardware fuse bits from the Arduino IDE.",null,"2012.01.22T150000_reading-hfuse-lfuse-and-efuse-arduno-ide.png","2012-01-22T15:00:00",{"text":14,"minutes":15,"time":16,"words":17},"1 min read",0.205,12300,41,{"type":19,"children":20,"toc":457},"root",[21,29,34,49,54,436,441,446,451],{"type":22,"tag":23,"props":24,"children":25},"element","p",{},[26],{"type":27,"value":28},"text","Hi guys!",{"type":22,"tag":23,"props":30,"children":31},{},[32],{"type":27,"value":33},"A real stumbling block, on which I find there is a lot of misunderstanding and misinformation is that of hardware fuses.",{"type":22,"tag":23,"props":35,"children":36},{},[37,39,47],{"type":27,"value":38},"These aren't fuses in the traditional sense (protective circuit breakers), they are persistent hardware settings, sort of like a configuration file. I wanted to find out what my Arduino's ATmega328P's  fuse settings were, to compare them to the factory defaults supplied in the ",{"type":22,"tag":40,"props":41,"children":44},"a",{"href":42,"target":43},"http://atmel.com/dyn/resources/prod_documents/8271S.pdf","_blank",[45],{"type":27,"value":46},"datasheet",{"type":27,"value":48},". Many people seemed to be saying \"It's not possible from the Arduino IDE\" or \"The Arduino's firmware doesn't have access to those values\". Both of these are completely untrue, as there are functions in the Arduino's core libraries which allow you to read them.",{"type":22,"tag":23,"props":50,"children":51},{},[52],{"type":27,"value":53},"Here's the code:",{"type":22,"tag":55,"props":56,"children":60},"pre",{"className":57,"code":58,"language":59,"meta":7,"style":7},"language-java shiki shiki-themes github-dark","#include \u003Cavr>\n\nvoid setup() {\n  Serial.begin(9600);\n  int lf = boot_lock_fuse_bits_get(GET_LOW_FUSE_BITS);\n  int hf = boot_lock_fuse_bits_get(GET_HIGH_FUSE_BITS);\n  int ef = boot_lock_fuse_bits_get(GET_EXTENDED_FUSE_BITS);\n\n  Serial.print(\"Low Fuse Bits: \");\n  Serial.print(lf);\n  Serial.print(\"High Fuse Bits: \");\n  Serial.print(hf);\n  Serial.print(\"Extended Fuse Bits: \");\n  Serial.print(ef);\n}\n\nvoid loop() {\n  // Do nothing\n}\u003C/avr>\n","java",[61],{"type":22,"tag":62,"props":63,"children":64},"code",{"__ignoreMap":7},[65,93,103,123,153,182,208,234,242,269,286,311,328,353,370,379,387,404,414],{"type":22,"tag":66,"props":67,"children":70},"span",{"class":68,"line":69},"line",1,[71,77,83,88],{"type":22,"tag":66,"props":72,"children":74},{"style":73},"--shiki-default:#E1E4E8",[75],{"type":27,"value":76},"#include ",{"type":22,"tag":66,"props":78,"children":80},{"style":79},"--shiki-default:#F97583",[81],{"type":27,"value":82},"\u003C",{"type":22,"tag":66,"props":84,"children":85},{"style":73},[86],{"type":27,"value":87},"avr",{"type":22,"tag":66,"props":89,"children":90},{"style":79},[91],{"type":27,"value":92},">\n",{"type":22,"tag":66,"props":94,"children":96},{"class":68,"line":95},2,[97],{"type":22,"tag":66,"props":98,"children":100},{"emptyLinePlaceholder":99},true,[101],{"type":27,"value":102},"\n",{"type":22,"tag":66,"props":104,"children":106},{"class":68,"line":105},3,[107,112,118],{"type":22,"tag":66,"props":108,"children":109},{"style":79},[110],{"type":27,"value":111},"void",{"type":22,"tag":66,"props":113,"children":115},{"style":114},"--shiki-default:#B392F0",[116],{"type":27,"value":117}," setup",{"type":22,"tag":66,"props":119,"children":120},{"style":73},[121],{"type":27,"value":122},"() {\n",{"type":22,"tag":66,"props":124,"children":126},{"class":68,"line":125},4,[127,132,137,142,148],{"type":22,"tag":66,"props":128,"children":129},{"style":73},[130],{"type":27,"value":131},"  Serial.",{"type":22,"tag":66,"props":133,"children":134},{"style":114},[135],{"type":27,"value":136},"begin",{"type":22,"tag":66,"props":138,"children":139},{"style":73},[140],{"type":27,"value":141},"(",{"type":22,"tag":66,"props":143,"children":145},{"style":144},"--shiki-default:#79B8FF",[146],{"type":27,"value":147},"9600",{"type":22,"tag":66,"props":149,"children":150},{"style":73},[151],{"type":27,"value":152},");\n",{"type":22,"tag":66,"props":154,"children":156},{"class":68,"line":155},5,[157,162,167,172,177],{"type":22,"tag":66,"props":158,"children":159},{"style":79},[160],{"type":27,"value":161},"  int",{"type":22,"tag":66,"props":163,"children":164},{"style":73},[165],{"type":27,"value":166}," lf ",{"type":22,"tag":66,"props":168,"children":169},{"style":79},[170],{"type":27,"value":171},"=",{"type":22,"tag":66,"props":173,"children":174},{"style":114},[175],{"type":27,"value":176}," boot_lock_fuse_bits_get",{"type":22,"tag":66,"props":178,"children":179},{"style":73},[180],{"type":27,"value":181},"(GET_LOW_FUSE_BITS);\n",{"type":22,"tag":66,"props":183,"children":185},{"class":68,"line":184},6,[186,190,195,199,203],{"type":22,"tag":66,"props":187,"children":188},{"style":79},[189],{"type":27,"value":161},{"type":22,"tag":66,"props":191,"children":192},{"style":73},[193],{"type":27,"value":194}," hf ",{"type":22,"tag":66,"props":196,"children":197},{"style":79},[198],{"type":27,"value":171},{"type":22,"tag":66,"props":200,"children":201},{"style":114},[202],{"type":27,"value":176},{"type":22,"tag":66,"props":204,"children":205},{"style":73},[206],{"type":27,"value":207},"(GET_HIGH_FUSE_BITS);\n",{"type":22,"tag":66,"props":209,"children":211},{"class":68,"line":210},7,[212,216,221,225,229],{"type":22,"tag":66,"props":213,"children":214},{"style":79},[215],{"type":27,"value":161},{"type":22,"tag":66,"props":217,"children":218},{"style":73},[219],{"type":27,"value":220}," ef ",{"type":22,"tag":66,"props":222,"children":223},{"style":79},[224],{"type":27,"value":171},{"type":22,"tag":66,"props":226,"children":227},{"style":114},[228],{"type":27,"value":176},{"type":22,"tag":66,"props":230,"children":231},{"style":73},[232],{"type":27,"value":233},"(GET_EXTENDED_FUSE_BITS);\n",{"type":22,"tag":66,"props":235,"children":237},{"class":68,"line":236},8,[238],{"type":22,"tag":66,"props":239,"children":240},{"emptyLinePlaceholder":99},[241],{"type":27,"value":102},{"type":22,"tag":66,"props":243,"children":245},{"class":68,"line":244},9,[246,250,255,259,265],{"type":22,"tag":66,"props":247,"children":248},{"style":73},[249],{"type":27,"value":131},{"type":22,"tag":66,"props":251,"children":252},{"style":114},[253],{"type":27,"value":254},"print",{"type":22,"tag":66,"props":256,"children":257},{"style":73},[258],{"type":27,"value":141},{"type":22,"tag":66,"props":260,"children":262},{"style":261},"--shiki-default:#9ECBFF",[263],{"type":27,"value":264},"\"Low Fuse Bits: \"",{"type":22,"tag":66,"props":266,"children":267},{"style":73},[268],{"type":27,"value":152},{"type":22,"tag":66,"props":270,"children":272},{"class":68,"line":271},10,[273,277,281],{"type":22,"tag":66,"props":274,"children":275},{"style":73},[276],{"type":27,"value":131},{"type":22,"tag":66,"props":278,"children":279},{"style":114},[280],{"type":27,"value":254},{"type":22,"tag":66,"props":282,"children":283},{"style":73},[284],{"type":27,"value":285},"(lf);\n",{"type":22,"tag":66,"props":287,"children":289},{"class":68,"line":288},11,[290,294,298,302,307],{"type":22,"tag":66,"props":291,"children":292},{"style":73},[293],{"type":27,"value":131},{"type":22,"tag":66,"props":295,"children":296},{"style":114},[297],{"type":27,"value":254},{"type":22,"tag":66,"props":299,"children":300},{"style":73},[301],{"type":27,"value":141},{"type":22,"tag":66,"props":303,"children":304},{"style":261},[305],{"type":27,"value":306},"\"High Fuse Bits: \"",{"type":22,"tag":66,"props":308,"children":309},{"style":73},[310],{"type":27,"value":152},{"type":22,"tag":66,"props":312,"children":314},{"class":68,"line":313},12,[315,319,323],{"type":22,"tag":66,"props":316,"children":317},{"style":73},[318],{"type":27,"value":131},{"type":22,"tag":66,"props":320,"children":321},{"style":114},[322],{"type":27,"value":254},{"type":22,"tag":66,"props":324,"children":325},{"style":73},[326],{"type":27,"value":327},"(hf);\n",{"type":22,"tag":66,"props":329,"children":331},{"class":68,"line":330},13,[332,336,340,344,349],{"type":22,"tag":66,"props":333,"children":334},{"style":73},[335],{"type":27,"value":131},{"type":22,"tag":66,"props":337,"children":338},{"style":114},[339],{"type":27,"value":254},{"type":22,"tag":66,"props":341,"children":342},{"style":73},[343],{"type":27,"value":141},{"type":22,"tag":66,"props":345,"children":346},{"style":261},[347],{"type":27,"value":348},"\"Extended Fuse Bits: \"",{"type":22,"tag":66,"props":350,"children":351},{"style":73},[352],{"type":27,"value":152},{"type":22,"tag":66,"props":354,"children":356},{"class":68,"line":355},14,[357,361,365],{"type":22,"tag":66,"props":358,"children":359},{"style":73},[360],{"type":27,"value":131},{"type":22,"tag":66,"props":362,"children":363},{"style":114},[364],{"type":27,"value":254},{"type":22,"tag":66,"props":366,"children":367},{"style":73},[368],{"type":27,"value":369},"(ef);\n",{"type":22,"tag":66,"props":371,"children":373},{"class":68,"line":372},15,[374],{"type":22,"tag":66,"props":375,"children":376},{"style":73},[377],{"type":27,"value":378},"}\n",{"type":22,"tag":66,"props":380,"children":382},{"class":68,"line":381},16,[383],{"type":22,"tag":66,"props":384,"children":385},{"emptyLinePlaceholder":99},[386],{"type":27,"value":102},{"type":22,"tag":66,"props":388,"children":390},{"class":68,"line":389},17,[391,395,400],{"type":22,"tag":66,"props":392,"children":393},{"style":79},[394],{"type":27,"value":111},{"type":22,"tag":66,"props":396,"children":397},{"style":114},[398],{"type":27,"value":399}," loop",{"type":22,"tag":66,"props":401,"children":402},{"style":73},[403],{"type":27,"value":122},{"type":22,"tag":66,"props":405,"children":407},{"class":68,"line":406},18,[408],{"type":22,"tag":66,"props":409,"children":411},{"style":410},"--shiki-default:#6A737D",[412],{"type":27,"value":413},"  // Do nothing\n",{"type":22,"tag":66,"props":415,"children":417},{"class":68,"line":416},19,[418,423,428,432],{"type":22,"tag":66,"props":419,"children":420},{"style":73},[421],{"type":27,"value":422},"}",{"type":22,"tag":66,"props":424,"children":425},{"style":79},[426],{"type":27,"value":427},"\u003C/",{"type":22,"tag":66,"props":429,"children":430},{"style":73},[431],{"type":27,"value":87},{"type":22,"tag":66,"props":433,"children":434},{"style":79},[435],{"type":27,"value":92},{"type":22,"tag":23,"props":437,"children":438},{},[439],{"type":27,"value":440},"This will print an integer value between 0 and 255 to the serial console. View these in hex and binary on any calculator program to see which bits are set. I've tested it on an Arduino Uno R3, with IDE version 1.0. If you have success with any other models, please let me know, so I can update the article and credit you.",{"type":22,"tag":23,"props":442,"children":443},{},[444],{"type":27,"value":445},"That's all for today!",{"type":22,"tag":23,"props":447,"children":448},{},[449],{"type":27,"value":450},"n00b",{"type":22,"tag":452,"props":453,"children":454},"style",{},[455],{"type":27,"value":456},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":95,"depth":95,"links":458},[],"markdown","content:posts:2012-01-22-reading-hfuse-lfuse-and-efuse-arduno-ide.md","content","posts/2012-01-22-reading-hfuse-lfuse-and-efuse-arduno-ide.md","posts/2012-01-22-reading-hfuse-lfuse-and-efuse-arduno-ide","md",{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"imagesource":10,"imagecredit":10,"image":11,"createdAt":12,"updatedAt":12,"readingTime":466,"body":467,"_type":459,"_id":460,"_source":461,"_file":462,"_stem":463,"_extension":464},{"text":14,"minutes":15,"time":16,"words":17},{"type":19,"children":468,"toc":821},[469,473,477,486,490,805,809,813,817],{"type":22,"tag":23,"props":470,"children":471},{},[472],{"type":27,"value":28},{"type":22,"tag":23,"props":474,"children":475},{},[476],{"type":27,"value":33},{"type":22,"tag":23,"props":478,"children":479},{},[480,481,485],{"type":27,"value":38},{"type":22,"tag":40,"props":482,"children":483},{"href":42,"target":43},[484],{"type":27,"value":46},{"type":27,"value":48},{"type":22,"tag":23,"props":487,"children":488},{},[489],{"type":27,"value":53},{"type":22,"tag":55,"props":491,"children":492},{"className":57,"code":58,"language":59,"meta":7,"style":7},[493],{"type":22,"tag":62,"props":494,"children":495},{"__ignoreMap":7},[496,515,522,537,560,583,606,629,636,659,674,697,712,735,750,757,764,779,786],{"type":22,"tag":66,"props":497,"children":498},{"class":68,"line":69},[499,503,507,511],{"type":22,"tag":66,"props":500,"children":501},{"style":73},[502],{"type":27,"value":76},{"type":22,"tag":66,"props":504,"children":505},{"style":79},[506],{"type":27,"value":82},{"type":22,"tag":66,"props":508,"children":509},{"style":73},[510],{"type":27,"value":87},{"type":22,"tag":66,"props":512,"children":513},{"style":79},[514],{"type":27,"value":92},{"type":22,"tag":66,"props":516,"children":517},{"class":68,"line":95},[518],{"type":22,"tag":66,"props":519,"children":520},{"emptyLinePlaceholder":99},[521],{"type":27,"value":102},{"type":22,"tag":66,"props":523,"children":524},{"class":68,"line":105},[525,529,533],{"type":22,"tag":66,"props":526,"children":527},{"style":79},[528],{"type":27,"value":111},{"type":22,"tag":66,"props":530,"children":531},{"style":114},[532],{"type":27,"value":117},{"type":22,"tag":66,"props":534,"children":535},{"style":73},[536],{"type":27,"value":122},{"type":22,"tag":66,"props":538,"children":539},{"class":68,"line":125},[540,544,548,552,556],{"type":22,"tag":66,"props":541,"children":542},{"style":73},[543],{"type":27,"value":131},{"type":22,"tag":66,"props":545,"children":546},{"style":114},[547],{"type":27,"value":136},{"type":22,"tag":66,"props":549,"children":550},{"style":73},[551],{"type":27,"value":141},{"type":22,"tag":66,"props":553,"children":554},{"style":144},[555],{"type":27,"value":147},{"type":22,"tag":66,"props":557,"children":558},{"style":73},[559],{"type":27,"value":152},{"type":22,"tag":66,"props":561,"children":562},{"class":68,"line":155},[563,567,571,575,579],{"type":22,"tag":66,"props":564,"children":565},{"style":79},[566],{"type":27,"value":161},{"type":22,"tag":66,"props":568,"children":569},{"style":73},[570],{"type":27,"value":166},{"type":22,"tag":66,"props":572,"children":573},{"style":79},[574],{"type":27,"value":171},{"type":22,"tag":66,"props":576,"children":577},{"style":114},[578],{"type":27,"value":176},{"type":22,"tag":66,"props":580,"children":581},{"style":73},[582],{"type":27,"value":181},{"type":22,"tag":66,"props":584,"children":585},{"class":68,"line":184},[586,590,594,598,602],{"type":22,"tag":66,"props":587,"children":588},{"style":79},[589],{"type":27,"value":161},{"type":22,"tag":66,"props":591,"children":592},{"style":73},[593],{"type":27,"value":194},{"type":22,"tag":66,"props":595,"children":596},{"style":79},[597],{"type":27,"value":171},{"type":22,"tag":66,"props":599,"children":600},{"style":114},[601],{"type":27,"value":176},{"type":22,"tag":66,"props":603,"children":604},{"style":73},[605],{"type":27,"value":207},{"type":22,"tag":66,"props":607,"children":608},{"class":68,"line":210},[609,613,617,621,625],{"type":22,"tag":66,"props":610,"children":611},{"style":79},[612],{"type":27,"value":161},{"type":22,"tag":66,"props":614,"children":615},{"style":73},[616],{"type":27,"value":220},{"type":22,"tag":66,"props":618,"children":619},{"style":79},[620],{"type":27,"value":171},{"type":22,"tag":66,"props":622,"children":623},{"style":114},[624],{"type":27,"value":176},{"type":22,"tag":66,"props":626,"children":627},{"style":73},[628],{"type":27,"value":233},{"type":22,"tag":66,"props":630,"children":631},{"class":68,"line":236},[632],{"type":22,"tag":66,"props":633,"children":634},{"emptyLinePlaceholder":99},[635],{"type":27,"value":102},{"type":22,"tag":66,"props":637,"children":638},{"class":68,"line":244},[639,643,647,651,655],{"type":22,"tag":66,"props":640,"children":641},{"style":73},[642],{"type":27,"value":131},{"type":22,"tag":66,"props":644,"children":645},{"style":114},[646],{"type":27,"value":254},{"type":22,"tag":66,"props":648,"children":649},{"style":73},[650],{"type":27,"value":141},{"type":22,"tag":66,"props":652,"children":653},{"style":261},[654],{"type":27,"value":264},{"type":22,"tag":66,"props":656,"children":657},{"style":73},[658],{"type":27,"value":152},{"type":22,"tag":66,"props":660,"children":661},{"class":68,"line":271},[662,666,670],{"type":22,"tag":66,"props":663,"children":664},{"style":73},[665],{"type":27,"value":131},{"type":22,"tag":66,"props":667,"children":668},{"style":114},[669],{"type":27,"value":254},{"type":22,"tag":66,"props":671,"children":672},{"style":73},[673],{"type":27,"value":285},{"type":22,"tag":66,"props":675,"children":676},{"class":68,"line":288},[677,681,685,689,693],{"type":22,"tag":66,"props":678,"children":679},{"style":73},[680],{"type":27,"value":131},{"type":22,"tag":66,"props":682,"children":683},{"style":114},[684],{"type":27,"value":254},{"type":22,"tag":66,"props":686,"children":687},{"style":73},[688],{"type":27,"value":141},{"type":22,"tag":66,"props":690,"children":691},{"style":261},[692],{"type":27,"value":306},{"type":22,"tag":66,"props":694,"children":695},{"style":73},[696],{"type":27,"value":152},{"type":22,"tag":66,"props":698,"children":699},{"class":68,"line":313},[700,704,708],{"type":22,"tag":66,"props":701,"children":702},{"style":73},[703],{"type":27,"value":131},{"type":22,"tag":66,"props":705,"children":706},{"style":114},[707],{"type":27,"value":254},{"type":22,"tag":66,"props":709,"children":710},{"style":73},[711],{"type":27,"value":327},{"type":22,"tag":66,"props":713,"children":714},{"class":68,"line":330},[715,719,723,727,731],{"type":22,"tag":66,"props":716,"children":717},{"style":73},[718],{"type":27,"value":131},{"type":22,"tag":66,"props":720,"children":721},{"style":114},[722],{"type":27,"value":254},{"type":22,"tag":66,"props":724,"children":725},{"style":73},[726],{"type":27,"value":141},{"type":22,"tag":66,"props":728,"children":729},{"style":261},[730],{"type":27,"value":348},{"type":22,"tag":66,"props":732,"children":733},{"style":73},[734],{"type":27,"value":152},{"type":22,"tag":66,"props":736,"children":737},{"class":68,"line":355},[738,742,746],{"type":22,"tag":66,"props":739,"children":740},{"style":73},[741],{"type":27,"value":131},{"type":22,"tag":66,"props":743,"children":744},{"style":114},[745],{"type":27,"value":254},{"type":22,"tag":66,"props":747,"children":748},{"style":73},[749],{"type":27,"value":369},{"type":22,"tag":66,"props":751,"children":752},{"class":68,"line":372},[753],{"type":22,"tag":66,"props":754,"children":755},{"style":73},[756],{"type":27,"value":378},{"type":22,"tag":66,"props":758,"children":759},{"class":68,"line":381},[760],{"type":22,"tag":66,"props":761,"children":762},{"emptyLinePlaceholder":99},[763],{"type":27,"value":102},{"type":22,"tag":66,"props":765,"children":766},{"class":68,"line":389},[767,771,775],{"type":22,"tag":66,"props":768,"children":769},{"style":79},[770],{"type":27,"value":111},{"type":22,"tag":66,"props":772,"children":773},{"style":114},[774],{"type":27,"value":399},{"type":22,"tag":66,"props":776,"children":777},{"style":73},[778],{"type":27,"value":122},{"type":22,"tag":66,"props":780,"children":781},{"class":68,"line":406},[782],{"type":22,"tag":66,"props":783,"children":784},{"style":410},[785],{"type":27,"value":413},{"type":22,"tag":66,"props":787,"children":788},{"class":68,"line":416},[789,793,797,801],{"type":22,"tag":66,"props":790,"children":791},{"style":73},[792],{"type":27,"value":422},{"type":22,"tag":66,"props":794,"children":795},{"style":79},[796],{"type":27,"value":427},{"type":22,"tag":66,"props":798,"children":799},{"style":73},[800],{"type":27,"value":87},{"type":22,"tag":66,"props":802,"children":803},{"style":79},[804],{"type":27,"value":92},{"type":22,"tag":23,"props":806,"children":807},{},[808],{"type":27,"value":440},{"type":22,"tag":23,"props":810,"children":811},{},[812],{"type":27,"value":445},{"type":22,"tag":23,"props":814,"children":815},{},[816],{"type":27,"value":450},{"type":22,"tag":452,"props":818,"children":819},{},[820],{"type":27,"value":456},{"title":7,"searchDepth":95,"depth":95,"links":822},[],1734109176400]