[{"data":1,"prerenderedAt":276},["ShallowReactive",2],{"post":3,"content-query-wYe8P0wKzG":168},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"imagesource":10,"imagecredit":11,"image":12,"createdAt":13,"updatedAt":13,"readingTime":14,"body":19,"_type":162,"_id":163,"_source":164,"_file":165,"_stem":166,"_extension":167},"/posts/ignore-directory-structure-tar","posts",false,"","Ignore directory structure with tar.","How to get tar to ignore directory structures","https://commons.wikimedia.org/wiki/File:USA_tar_bubble_la_brea_CA.jpg","Daniel Schwen","2010.02.18T150000_ignore-directory-structure-tar.jpg","2010-02-18T15:00:00",{"text":15,"minutes":16,"time":17,"words":18},"1 min read",0.07,4200,14,{"type":20,"children":21,"toc":159},"root",[22,30,35,85,90,143,148,153],{"type":23,"tag":24,"props":25,"children":26},"element","p",{},[27],{"type":28,"value":29},"text","Hey all,",{"type":23,"tag":24,"props":31,"children":32},{},[33],{"type":28,"value":34},"Extremely quick one today, but one I certainly found very useful. In some of my backup tarballs, I've ended up with some seriously deeply nested files, and extracting a single file into a folder, only to have it appear inside an otherwise completely empty 15 folder deep directory tree is pointless, and to be honest, slightly annoying. I found a snippet today which allows you to ignore a specified number of directories when extracting files...",{"type":23,"tag":36,"props":37,"children":41},"pre",{"className":38,"code":39,"language":40,"meta":7,"style":7},"language-bash shiki shiki-themes github-dark","tar --strip-components {N} -xvJf tarball.tar.xz {filename}\n","bash",[42],{"type":23,"tag":43,"props":44,"children":45},"code",{"__ignoreMap":7},[46],{"type":23,"tag":47,"props":48,"children":51},"span",{"class":49,"line":50},"line",1,[52,58,64,70,75,80],{"type":23,"tag":47,"props":53,"children":55},{"style":54},"--shiki-default:#B392F0",[56],{"type":28,"value":57},"tar",{"type":23,"tag":47,"props":59,"children":61},{"style":60},"--shiki-default:#79B8FF",[62],{"type":28,"value":63}," --strip-components",{"type":23,"tag":47,"props":65,"children":67},{"style":66},"--shiki-default:#9ECBFF",[68],{"type":28,"value":69}," {N}",{"type":23,"tag":47,"props":71,"children":72},{"style":60},[73],{"type":28,"value":74}," -xvJf",{"type":23,"tag":47,"props":76,"children":77},{"style":66},[78],{"type":28,"value":79}," tarball.tar.xz",{"type":23,"tag":47,"props":81,"children":82},{"style":66},[83],{"type":28,"value":84}," {filename}\n",{"type":23,"tag":24,"props":86,"children":87},{},[88],{"type":28,"value":89},"All you need to do is swap {N} for the number of folders to ignore, {filename} for the name of the file you wish to extract, and enter the tarball name instead of \"tarball.tar.xz\". Here's an example...",{"type":23,"tag":36,"props":91,"children":93},{"className":38,"code":92,"language":40,"meta":7,"style":7},"tar -C ~ --strip components 2 -xvJf Backups.tar.xz shares/public/code/example.php\n",[94],{"type":23,"tag":43,"props":95,"children":96},{"__ignoreMap":7},[97],{"type":23,"tag":47,"props":98,"children":99},{"class":49,"line":50},[100,104,109,114,119,124,129,133,138],{"type":23,"tag":47,"props":101,"children":102},{"style":54},[103],{"type":28,"value":57},{"type":23,"tag":47,"props":105,"children":106},{"style":60},[107],{"type":28,"value":108}," -C",{"type":23,"tag":47,"props":110,"children":111},{"style":66},[112],{"type":28,"value":113}," ~",{"type":23,"tag":47,"props":115,"children":116},{"style":60},[117],{"type":28,"value":118}," --strip",{"type":23,"tag":47,"props":120,"children":121},{"style":66},[122],{"type":28,"value":123}," components",{"type":23,"tag":47,"props":125,"children":126},{"style":60},[127],{"type":28,"value":128}," 2",{"type":23,"tag":47,"props":130,"children":131},{"style":60},[132],{"type":28,"value":74},{"type":23,"tag":47,"props":134,"children":135},{"style":66},[136],{"type":28,"value":137}," Backups.tar.xz",{"type":23,"tag":47,"props":139,"children":140},{"style":66},[141],{"type":28,"value":142}," shares/public/code/example.php\n",{"type":23,"tag":24,"props":144,"children":145},{},[146],{"type":28,"value":147},"This will extract the file \"example.php\" from the tarball \"Backups.tar.xz\", and put it in your home folder in a subdirectory called \"code\". To extract it to a folder called public/code, you would change the number to 1, and to put it directly in your home folder, change it to 3.",{"type":23,"tag":24,"props":149,"children":150},{},[151],{"type":28,"value":152},"Right, off to do some work! Hope this has helped you out!!",{"type":23,"tag":154,"props":155,"children":156},"style",{},[157],{"type":28,"value":158},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":160,"depth":160,"links":161},2,[],"markdown","content:posts:2010-02-18-ignore-directory-structure-tar.md","content","posts/2010-02-18-ignore-directory-structure-tar.md","posts/2010-02-18-ignore-directory-structure-tar","md",{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"imagesource":10,"imagecredit":11,"image":12,"createdAt":13,"updatedAt":13,"readingTime":169,"body":170,"_type":162,"_id":163,"_source":164,"_file":165,"_stem":166,"_extension":167},{"text":15,"minutes":16,"time":17,"words":18},{"type":20,"children":171,"toc":274},[172,176,180,213,217,262,266,270],{"type":23,"tag":24,"props":173,"children":174},{},[175],{"type":28,"value":29},{"type":23,"tag":24,"props":177,"children":178},{},[179],{"type":28,"value":34},{"type":23,"tag":36,"props":181,"children":182},{"className":38,"code":39,"language":40,"meta":7,"style":7},[183],{"type":23,"tag":43,"props":184,"children":185},{"__ignoreMap":7},[186],{"type":23,"tag":47,"props":187,"children":188},{"class":49,"line":50},[189,193,197,201,205,209],{"type":23,"tag":47,"props":190,"children":191},{"style":54},[192],{"type":28,"value":57},{"type":23,"tag":47,"props":194,"children":195},{"style":60},[196],{"type":28,"value":63},{"type":23,"tag":47,"props":198,"children":199},{"style":66},[200],{"type":28,"value":69},{"type":23,"tag":47,"props":202,"children":203},{"style":60},[204],{"type":28,"value":74},{"type":23,"tag":47,"props":206,"children":207},{"style":66},[208],{"type":28,"value":79},{"type":23,"tag":47,"props":210,"children":211},{"style":66},[212],{"type":28,"value":84},{"type":23,"tag":24,"props":214,"children":215},{},[216],{"type":28,"value":89},{"type":23,"tag":36,"props":218,"children":219},{"className":38,"code":92,"language":40,"meta":7,"style":7},[220],{"type":23,"tag":43,"props":221,"children":222},{"__ignoreMap":7},[223],{"type":23,"tag":47,"props":224,"children":225},{"class":49,"line":50},[226,230,234,238,242,246,250,254,258],{"type":23,"tag":47,"props":227,"children":228},{"style":54},[229],{"type":28,"value":57},{"type":23,"tag":47,"props":231,"children":232},{"style":60},[233],{"type":28,"value":108},{"type":23,"tag":47,"props":235,"children":236},{"style":66},[237],{"type":28,"value":113},{"type":23,"tag":47,"props":239,"children":240},{"style":60},[241],{"type":28,"value":118},{"type":23,"tag":47,"props":243,"children":244},{"style":66},[245],{"type":28,"value":123},{"type":23,"tag":47,"props":247,"children":248},{"style":60},[249],{"type":28,"value":128},{"type":23,"tag":47,"props":251,"children":252},{"style":60},[253],{"type":28,"value":74},{"type":23,"tag":47,"props":255,"children":256},{"style":66},[257],{"type":28,"value":137},{"type":23,"tag":47,"props":259,"children":260},{"style":66},[261],{"type":28,"value":142},{"type":23,"tag":24,"props":263,"children":264},{},[265],{"type":28,"value":147},{"type":23,"tag":24,"props":267,"children":268},{},[269],{"type":28,"value":152},{"type":23,"tag":154,"props":271,"children":272},{},[273],{"type":28,"value":158},{"title":7,"searchDepth":160,"depth":160,"links":275},[],1735475819642]