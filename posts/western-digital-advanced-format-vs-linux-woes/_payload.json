[{"data":1,"prerenderedAt":248},["ShallowReactive",2],{"post":3,"content-query-cc80DKgyJ6":155},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"imagesource":10,"imagecredit":10,"imageFilename":11,"createdAt":12,"updatedAt":12,"readingTime":13,"body":18,"_type":149,"_id":150,"_source":151,"_file":152,"_stem":153,"_extension":154},"/posts/western-digital-advanced-format-vs-linux-woes","posts",false,"","Western Digital Advanced Format vs. Linux Woes","How to partition a Western Digital Advanced Format drive in Linux",null,"2013.01.23T150000_western-digital-advanced-format-vs-linux-woes.png","2013-01-23T15:00:00",{"text":14,"minutes":15,"time":16,"words":17},"1 min read",0.02,1200,4,{"type":19,"children":20,"toc":144},"root",[21,29,34,39,46,51,91,96,102,123,128,133,138],{"type":22,"tag":23,"props":24,"children":25},"element","p",{},[26],{"type":27,"value":28},"text","Hi folks,",{"type":22,"tag":23,"props":30,"children":31},{},[32],{"type":27,"value":33},"I've been using WD's Advanced Format disks recently, and have to say that I'm particularly unimpressed with WD for how they've dealt with Linux support, but never fear - I'm here to help!",{"type":22,"tag":23,"props":35,"children":36},{},[37],{"type":27,"value":38},"The problem was, when I used fdisk to create the partitions, it moaned like a blocked drain about the fact that the logical and physical sectors were misaligned, and told me that this would seriously negatively affect the access speeds. After a little reading up on it, the actual process for creating the disk is a lot simpler than many people were willing to admit. Anyway, here's a mini-howto:",{"type":22,"tag":40,"props":41,"children":43},"h2",{"id":42},"step-1-start-fdisk",[44],{"type":27,"value":45},"Step 1 - Start fdisk",{"type":22,"tag":23,"props":47,"children":48},{},[49],{"type":27,"value":50},"You start fdisk by using the following command:",{"type":22,"tag":52,"props":53,"children":57},"pre",{"className":54,"code":55,"language":56,"meta":7,"style":7},"language-bash shiki shiki-themes github-dark","fdisk -c=nondos -u=sectors /dev/sd[x]\n","bash",[58],{"type":22,"tag":59,"props":60,"children":61},"code",{"__ignoreMap":7},[62],{"type":22,"tag":63,"props":64,"children":67},"span",{"class":65,"line":66},"line",1,[68,74,80,85],{"type":22,"tag":63,"props":69,"children":71},{"style":70},"--shiki-default:#B392F0",[72],{"type":27,"value":73},"fdisk",{"type":22,"tag":63,"props":75,"children":77},{"style":76},"--shiki-default:#79B8FF",[78],{"type":27,"value":79}," -c=nondos",{"type":22,"tag":63,"props":81,"children":82},{"style":76},[83],{"type":27,"value":84}," -u=sectors",{"type":22,"tag":63,"props":86,"children":88},{"style":87},"--shiki-default:#9ECBFF",[89],{"type":27,"value":90}," /dev/sd[x]\n",{"type":22,"tag":23,"props":92,"children":93},{},[94],{"type":27,"value":95},"Just replace the [x] with the letter of the drive you want to edit. In my case, this was /dev/sdb",{"type":22,"tag":40,"props":97,"children":99},{"id":98},"step-2-create-a-partition",[100],{"type":27,"value":101},"Step 2 - Create a partition",{"type":22,"tag":23,"props":103,"children":104},{},[105,107,111,113,116,118,121],{"type":27,"value":106},"Press \"n\" -> [Enter] to create a new partition.",{"type":22,"tag":108,"props":109,"children":110},"br",{},[],{"type":27,"value":112},"\nPress \"1\" -> [Enter] to make it partition #1.",{"type":22,"tag":108,"props":114,"children":115},{},[],{"type":27,"value":117},"\nType \"2048\" to make it start on a sector which matches up with the WD Advanced Format sector boundary.",{"type":22,"tag":108,"props":119,"children":120},{},[],{"type":27,"value":122},"\nTo enter a size, use the \"+size{M,G}\" format. This will ensure that your partitions have boundaries which work with the  WD Advanced Format drive sector sizes.",{"type":22,"tag":23,"props":124,"children":125},{},[126],{"type":27,"value":127},"This logic extends for all partitions you create. Make sure the starting sector for the partition is divisible by 2048. Why WD have chosen to make it extra-complicated to use their HDDs in Linux is anybody's guess, but thankfully there are enough talented Linux gurus out there to put paid to their dastardly schemes!",{"type":22,"tag":23,"props":129,"children":130},{},[131],{"type":27,"value":132},"As always, if anybody has any questions, leave them in the comments. I'll do my best to answer every single one!",{"type":22,"tag":23,"props":134,"children":135},{},[136],{"type":27,"value":137},"n00b",{"type":22,"tag":139,"props":140,"children":141},"style",{},[142],{"type":27,"value":143},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":145,"depth":145,"links":146},2,[147,148],{"id":42,"depth":145,"text":45},{"id":98,"depth":145,"text":101},"markdown","content:posts:2013-01-23-western-digital-advanced-format-vs-linux-woes.md","content","posts/2013-01-23-western-digital-advanced-format-vs-linux-woes.md","posts/2013-01-23-western-digital-advanced-format-vs-linux-woes","md",{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"imagesource":10,"imagecredit":10,"imageFilename":11,"createdAt":12,"updatedAt":12,"readingTime":156,"body":157,"_type":149,"_id":150,"_source":151,"_file":152,"_stem":153,"_extension":154},{"text":14,"minutes":15,"time":16,"words":17},{"type":19,"children":158,"toc":244},[159,163,167,171,175,179,204,208,212,228,232,236,240],{"type":22,"tag":23,"props":160,"children":161},{},[162],{"type":27,"value":28},{"type":22,"tag":23,"props":164,"children":165},{},[166],{"type":27,"value":33},{"type":22,"tag":23,"props":168,"children":169},{},[170],{"type":27,"value":38},{"type":22,"tag":40,"props":172,"children":173},{"id":42},[174],{"type":27,"value":45},{"type":22,"tag":23,"props":176,"children":177},{},[178],{"type":27,"value":50},{"type":22,"tag":52,"props":180,"children":181},{"className":54,"code":55,"language":56,"meta":7,"style":7},[182],{"type":22,"tag":59,"props":183,"children":184},{"__ignoreMap":7},[185],{"type":22,"tag":63,"props":186,"children":187},{"class":65,"line":66},[188,192,196,200],{"type":22,"tag":63,"props":189,"children":190},{"style":70},[191],{"type":27,"value":73},{"type":22,"tag":63,"props":193,"children":194},{"style":76},[195],{"type":27,"value":79},{"type":22,"tag":63,"props":197,"children":198},{"style":76},[199],{"type":27,"value":84},{"type":22,"tag":63,"props":201,"children":202},{"style":87},[203],{"type":27,"value":90},{"type":22,"tag":23,"props":205,"children":206},{},[207],{"type":27,"value":95},{"type":22,"tag":40,"props":209,"children":210},{"id":98},[211],{"type":27,"value":101},{"type":22,"tag":23,"props":213,"children":214},{},[215,216,219,220,223,224,227],{"type":27,"value":106},{"type":22,"tag":108,"props":217,"children":218},{},[],{"type":27,"value":112},{"type":22,"tag":108,"props":221,"children":222},{},[],{"type":27,"value":117},{"type":22,"tag":108,"props":225,"children":226},{},[],{"type":27,"value":122},{"type":22,"tag":23,"props":229,"children":230},{},[231],{"type":27,"value":127},{"type":22,"tag":23,"props":233,"children":234},{},[235],{"type":27,"value":132},{"type":22,"tag":23,"props":237,"children":238},{},[239],{"type":27,"value":137},{"type":22,"tag":139,"props":241,"children":242},{},[243],{"type":27,"value":143},{"title":7,"searchDepth":145,"depth":145,"links":245},[246,247],{"id":42,"depth":145,"text":45},{"id":98,"depth":145,"text":101},1735572979054]