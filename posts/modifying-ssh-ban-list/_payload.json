[{"data":1,"prerenderedAt":411},["ShallowReactive",2],{"post":3,"content-query-GOsCZnuuy0":240},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"imagesource":10,"imagecredit":11,"imageFilename":12,"createdAt":13,"updatedAt":13,"readingTime":14,"body":19,"_type":234,"_id":235,"_source":236,"_file":237,"_stem":238,"_extension":239},"/posts/modifying-ssh-ban-list","posts",false,"","Modifying the SSH ban list.","How to manually edit the IPTables SSH ban list","https://commons.wikimedia.org/wiki/File:Digicode.JPG","D4m1en","2009.04.06T140000_modifying-ssh-ban-list.jpg","2009-04-06T14:00:00",{"text":15,"minutes":16,"time":17,"words":18},"1 min read",0.055,3300,11,{"type":20,"children":21,"toc":231},"root",[22,30,35,48,53,88,93,134,139,175,180,215,220,225],{"type":23,"tag":24,"props":25,"children":26},"element","p",{},[27],{"type":28,"value":29},"text","Hi everybody!",{"type":23,"tag":24,"props":31,"children":32},{},[33],{"type":28,"value":34},"How many times have you locked yourself out of your remote server by being too quick for your own good? My servers are all set to ban an IP after 3 connection attempts within a minute, so it happens quite regularly that I lock myself out.",{"type":23,"tag":24,"props":36,"children":37},{},[38,40,46],{"type":28,"value":39},"The list of banned IPs is stored in ",{"type":23,"tag":41,"props":42,"children":43},"strong",{},[44],{"type":28,"value":45},"/proc/net/ipt_recent",{"type":28,"value":47},". There are a couple of commands this 'file' understands...",{"type":23,"tag":24,"props":49,"children":50},{},[51],{"type":28,"value":52},"To see what IPs are currently banned, use:",{"type":23,"tag":54,"props":55,"children":59},"pre",{"className":56,"code":57,"language":58,"meta":7,"style":7},"language-bash shiki shiki-themes github-dark","cat /proc/net/ipt_recent/BAN_LIST_NAME).\n","bash",[60],{"type":23,"tag":61,"props":62,"children":63},"code",{"__ignoreMap":7},[64],{"type":23,"tag":65,"props":66,"children":69},"span",{"class":67,"line":68},"line",1,[70,76,82],{"type":23,"tag":65,"props":71,"children":73},{"style":72},"--shiki-default:#B392F0",[74],{"type":28,"value":75},"cat",{"type":23,"tag":65,"props":77,"children":79},{"style":78},"--shiki-default:#9ECBFF",[80],{"type":28,"value":81}," /proc/net/ipt_recent/BAN_LIST_NAME",{"type":23,"tag":65,"props":83,"children":85},{"style":84},"--shiki-default:#E1E4E8",[86],{"type":28,"value":87},").\n",{"type":23,"tag":24,"props":89,"children":90},{},[91],{"type":28,"value":92},"To remove an IP from the list use:",{"type":23,"tag":54,"props":94,"children":96},{"className":56,"code":95,"language":58,"meta":7,"style":7},"echo \"-xxx.xxx.xxx.xxx\" &gt; /proc/net/ipt_recent/BAN_LIST_NAME\n",[97],{"type":23,"tag":61,"props":98,"children":99},{"__ignoreMap":7},[100],{"type":23,"tag":65,"props":101,"children":102},{"class":67,"line":68},[103,109,114,119,124,129],{"type":23,"tag":65,"props":104,"children":106},{"style":105},"--shiki-default:#79B8FF",[107],{"type":28,"value":108},"echo",{"type":23,"tag":65,"props":110,"children":111},{"style":78},[112],{"type":28,"value":113}," \"-xxx.xxx.xxx.xxx\"",{"type":23,"tag":65,"props":115,"children":116},{"style":84},[117],{"type":28,"value":118}," &",{"type":23,"tag":65,"props":120,"children":121},{"style":72},[122],{"type":28,"value":123},"gt",{"type":23,"tag":65,"props":125,"children":126},{"style":84},[127],{"type":28,"value":128},"; ",{"type":23,"tag":65,"props":130,"children":131},{"style":72},[132],{"type":28,"value":133},"/proc/net/ipt_recent/BAN_LIST_NAME\n",{"type":23,"tag":24,"props":135,"children":136},{},[137],{"type":28,"value":138},"To add a suspicious or known bad IP:",{"type":23,"tag":54,"props":140,"children":142},{"className":56,"code":141,"language":58,"meta":7,"style":7},"echo \"+xxx.xxx.xxx.xxx\" &gt;; /proc/net/ipt_recent/BAN_LIST_NAME\n",[143],{"type":23,"tag":61,"props":144,"children":145},{"__ignoreMap":7},[146],{"type":23,"tag":65,"props":147,"children":148},{"class":67,"line":68},[149,153,158,162,166,171],{"type":23,"tag":65,"props":150,"children":151},{"style":105},[152],{"type":28,"value":108},{"type":23,"tag":65,"props":154,"children":155},{"style":78},[156],{"type":28,"value":157}," \"+xxx.xxx.xxx.xxx\"",{"type":23,"tag":65,"props":159,"children":160},{"style":84},[161],{"type":28,"value":118},{"type":23,"tag":65,"props":163,"children":164},{"style":72},[165],{"type":28,"value":123},{"type":23,"tag":65,"props":167,"children":168},{"style":84},[169],{"type":28,"value":170},";; ",{"type":23,"tag":65,"props":172,"children":173},{"style":72},[174],{"type":28,"value":133},{"type":23,"tag":24,"props":176,"children":177},{},[178],{"type":28,"value":179},"To remove all entries (not really a very good idea):",{"type":23,"tag":54,"props":181,"children":183},{"className":56,"code":182,"language":58,"meta":7,"style":7},"echo \"clear\" &gt; /proc/net/ipt_recent/BAN_LIST_NAME\n",[184],{"type":23,"tag":61,"props":185,"children":186},{"__ignoreMap":7},[187],{"type":23,"tag":65,"props":188,"children":189},{"class":67,"line":68},[190,194,199,203,207,211],{"type":23,"tag":65,"props":191,"children":192},{"style":105},[193],{"type":28,"value":108},{"type":23,"tag":65,"props":195,"children":196},{"style":78},[197],{"type":28,"value":198}," \"clear\"",{"type":23,"tag":65,"props":200,"children":201},{"style":84},[202],{"type":28,"value":118},{"type":23,"tag":65,"props":204,"children":205},{"style":72},[206],{"type":28,"value":123},{"type":23,"tag":65,"props":208,"children":209},{"style":84},[210],{"type":28,"value":128},{"type":23,"tag":65,"props":212,"children":213},{"style":72},[214],{"type":28,"value":133},{"type":23,"tag":24,"props":216,"children":217},{},[218],{"type":28,"value":219},"That's all for now.",{"type":23,"tag":24,"props":221,"children":222},{},[223],{"type":28,"value":224},"n00b",{"type":23,"tag":226,"props":227,"children":228},"style",{},[229],{"type":28,"value":230},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":232,"depth":232,"links":233},2,[],"markdown","content:posts:2009-04-06-modifying-ssh-ban-list.md","content","posts/2009-04-06-modifying-ssh-ban-list.md","posts/2009-04-06-modifying-ssh-ban-list","md",{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"imagesource":10,"imagecredit":11,"imageFilename":12,"createdAt":13,"updatedAt":13,"readingTime":241,"body":242,"_type":234,"_id":235,"_source":236,"_file":237,"_stem":238,"_extension":239},{"text":15,"minutes":16,"time":17,"words":18},{"type":20,"children":243,"toc":409},[244,248,252,261,265,286,290,323,327,360,364,397,401,405],{"type":23,"tag":24,"props":245,"children":246},{},[247],{"type":28,"value":29},{"type":23,"tag":24,"props":249,"children":250},{},[251],{"type":28,"value":34},{"type":23,"tag":24,"props":253,"children":254},{},[255,256,260],{"type":28,"value":39},{"type":23,"tag":41,"props":257,"children":258},{},[259],{"type":28,"value":45},{"type":28,"value":47},{"type":23,"tag":24,"props":262,"children":263},{},[264],{"type":28,"value":52},{"type":23,"tag":54,"props":266,"children":267},{"className":56,"code":57,"language":58,"meta":7,"style":7},[268],{"type":23,"tag":61,"props":269,"children":270},{"__ignoreMap":7},[271],{"type":23,"tag":65,"props":272,"children":273},{"class":67,"line":68},[274,278,282],{"type":23,"tag":65,"props":275,"children":276},{"style":72},[277],{"type":28,"value":75},{"type":23,"tag":65,"props":279,"children":280},{"style":78},[281],{"type":28,"value":81},{"type":23,"tag":65,"props":283,"children":284},{"style":84},[285],{"type":28,"value":87},{"type":23,"tag":24,"props":287,"children":288},{},[289],{"type":28,"value":92},{"type":23,"tag":54,"props":291,"children":292},{"className":56,"code":95,"language":58,"meta":7,"style":7},[293],{"type":23,"tag":61,"props":294,"children":295},{"__ignoreMap":7},[296],{"type":23,"tag":65,"props":297,"children":298},{"class":67,"line":68},[299,303,307,311,315,319],{"type":23,"tag":65,"props":300,"children":301},{"style":105},[302],{"type":28,"value":108},{"type":23,"tag":65,"props":304,"children":305},{"style":78},[306],{"type":28,"value":113},{"type":23,"tag":65,"props":308,"children":309},{"style":84},[310],{"type":28,"value":118},{"type":23,"tag":65,"props":312,"children":313},{"style":72},[314],{"type":28,"value":123},{"type":23,"tag":65,"props":316,"children":317},{"style":84},[318],{"type":28,"value":128},{"type":23,"tag":65,"props":320,"children":321},{"style":72},[322],{"type":28,"value":133},{"type":23,"tag":24,"props":324,"children":325},{},[326],{"type":28,"value":138},{"type":23,"tag":54,"props":328,"children":329},{"className":56,"code":141,"language":58,"meta":7,"style":7},[330],{"type":23,"tag":61,"props":331,"children":332},{"__ignoreMap":7},[333],{"type":23,"tag":65,"props":334,"children":335},{"class":67,"line":68},[336,340,344,348,352,356],{"type":23,"tag":65,"props":337,"children":338},{"style":105},[339],{"type":28,"value":108},{"type":23,"tag":65,"props":341,"children":342},{"style":78},[343],{"type":28,"value":157},{"type":23,"tag":65,"props":345,"children":346},{"style":84},[347],{"type":28,"value":118},{"type":23,"tag":65,"props":349,"children":350},{"style":72},[351],{"type":28,"value":123},{"type":23,"tag":65,"props":353,"children":354},{"style":84},[355],{"type":28,"value":170},{"type":23,"tag":65,"props":357,"children":358},{"style":72},[359],{"type":28,"value":133},{"type":23,"tag":24,"props":361,"children":362},{},[363],{"type":28,"value":179},{"type":23,"tag":54,"props":365,"children":366},{"className":56,"code":182,"language":58,"meta":7,"style":7},[367],{"type":23,"tag":61,"props":368,"children":369},{"__ignoreMap":7},[370],{"type":23,"tag":65,"props":371,"children":372},{"class":67,"line":68},[373,377,381,385,389,393],{"type":23,"tag":65,"props":374,"children":375},{"style":105},[376],{"type":28,"value":108},{"type":23,"tag":65,"props":378,"children":379},{"style":78},[380],{"type":28,"value":198},{"type":23,"tag":65,"props":382,"children":383},{"style":84},[384],{"type":28,"value":118},{"type":23,"tag":65,"props":386,"children":387},{"style":72},[388],{"type":28,"value":123},{"type":23,"tag":65,"props":390,"children":391},{"style":84},[392],{"type":28,"value":128},{"type":23,"tag":65,"props":394,"children":395},{"style":72},[396],{"type":28,"value":133},{"type":23,"tag":24,"props":398,"children":399},{},[400],{"type":28,"value":219},{"type":23,"tag":24,"props":402,"children":403},{},[404],{"type":28,"value":224},{"type":23,"tag":226,"props":406,"children":407},{},[408],{"type":28,"value":230},{"title":7,"searchDepth":232,"depth":232,"links":410},[],1735572979845]