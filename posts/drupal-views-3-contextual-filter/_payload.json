[{"data":1,"prerenderedAt":1638},["ShallowReactive",2],{"post":3,"content-query-51xLIClCXX":907},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"imagesource":10,"imagecredit":10,"imageFilename":11,"createdAt":12,"updatedAt":12,"readingTime":13,"body":18,"_type":901,"_id":902,"_source":903,"_file":904,"_stem":905,"_extension":906},"/posts/drupal-views-3-contextual-filter","posts",false,"","Drupal - Views 3 Contextual Filter LIKE","How to modify a Drupal/Views 3 Contextual Filter to use the LIKE operator, instead of the hard-coded =.",null,"2012.08.21T140000_drupal-views-3-contextual-filter.png","2012-08-21T14:00:00",{"text":14,"minutes":15,"time":16,"words":17},"1 min read",0.685,41100,137,{"type":19,"children":20,"toc":899},"root",[21,29,34,57,62,67,158,163,878,883,888,893],{"type":22,"tag":23,"props":24,"children":25},"element","p",{},[26],{"type":27,"value":28},"text","Hi folks,",{"type":22,"tag":23,"props":30,"children":31},{},[32],{"type":27,"value":33},"While working with Drupal 7/Views 3 recently, I found a necessity to use the MySQL \"LIKE\" operator in place of the hard-coded \"=\" in a contextual filter. On researching this, I couldn't find anywhere in Views where this could be set up. To me, it seems insane that this isn't in there already, so if there's any way of doing this in Views UI, please do let me know!",{"type":22,"tag":23,"props":35,"children":36},{},[37,39,47,49,55],{"type":27,"value":38},"Anyway... What I needed was a contextual filter on the view which would find any node of a certain type which contained a particular string. If the string was static, I could have easily applied it as a filter criterion, however I needed to extract it from the URL. Not finding any simple way of applying a dynamic piece of text to a filter criterion, I decided that the most sensible option would be to try and modify the query. Fortunately, Views 3 provides this as a hook. The ",{"type":22,"tag":40,"props":41,"children":44},"a",{"href":42,"target":43},"http://api.drupal.org/api/drupal","_blank",[45],{"type":27,"value":46},"Drupal API documentation",{"type":27,"value":48}," provides a ",{"type":22,"tag":40,"props":50,"children":52},{"href":51,"target":43},"http://api.drupal.org/api/views/views.api.php/7",[53],{"type":27,"value":54},"list of all the Views hooks which are provided for your use",{"type":27,"value":56},".",{"type":22,"tag":23,"props":58,"children":59},{},[60],{"type":27,"value":61},"In Drupal, to implement a hook, you need to write a custom module. I'll go through the whole process here, so no worries if you're not familiar with the process.",{"type":22,"tag":23,"props":63,"children":64},{},[65],{"type":27,"value":66},"First, create a folder called \"customviewsquery\" under your Drupal installation, in the folder \"sites/all/modules\". Next, create the following file in the newly created folder.",{"type":22,"tag":68,"props":69,"children":73},"pre",{"className":70,"code":71,"language":72,"meta":7,"style":7},"language-ini shiki shiki-themes github-dark","name = Custom Views Query\ndescription = Modifies a single Views 3 contextual filter to use LIKE instead of =\ncore = 7.x\n\npackage = Custom Code\n","ini",[74],{"type":22,"tag":75,"props":76,"children":77},"code",{"__ignoreMap":7},[78,96,120,134,144],{"type":22,"tag":79,"props":80,"children":83},"span",{"class":81,"line":82},"line",1,[84,90],{"type":22,"tag":79,"props":85,"children":87},{"style":86},"--shiki-default:#F97583",[88],{"type":27,"value":89},"name",{"type":22,"tag":79,"props":91,"children":93},{"style":92},"--shiki-default:#E1E4E8",[94],{"type":27,"value":95}," = Custom Views Query\n",{"type":22,"tag":79,"props":97,"children":99},{"class":81,"line":98},2,[100,105,110,115],{"type":22,"tag":79,"props":101,"children":102},{"style":86},[103],{"type":27,"value":104},"description",{"type":22,"tag":79,"props":106,"children":107},{"style":92},[108],{"type":27,"value":109}," = Modifies a single Views 3 contextual filter to use LIKE instead ",{"type":22,"tag":79,"props":111,"children":112},{"style":86},[113],{"type":27,"value":114},"of",{"type":22,"tag":79,"props":116,"children":117},{"style":92},[118],{"type":27,"value":119}," =\n",{"type":22,"tag":79,"props":121,"children":123},{"class":81,"line":122},3,[124,129],{"type":22,"tag":79,"props":125,"children":126},{"style":86},[127],{"type":27,"value":128},"core",{"type":22,"tag":79,"props":130,"children":131},{"style":92},[132],{"type":27,"value":133}," = 7.x\n",{"type":22,"tag":79,"props":135,"children":137},{"class":81,"line":136},4,[138],{"type":22,"tag":79,"props":139,"children":141},{"emptyLinePlaceholder":140},true,[142],{"type":27,"value":143},"\n",{"type":22,"tag":79,"props":145,"children":147},{"class":81,"line":146},5,[148,153],{"type":22,"tag":79,"props":149,"children":150},{"style":86},[151],{"type":27,"value":152},"package",{"type":22,"tag":79,"props":154,"children":155},{"style":92},[156],{"type":27,"value":157}," = Custom Code\n",{"type":22,"tag":23,"props":159,"children":160},{},[161],{"type":27,"value":162},"Now create the following file:",{"type":22,"tag":68,"props":164,"children":168},{"className":165,"code":166,"language":167,"meta":7,"style":7},"language-php shiki shiki-themes github-dark","\u003C?php /**\n * Implements hook_views_query_alter\n *\n * Finds the correct view, and calls a relevant callback\n */\nfunction customviewsquery_views_query_alter(&$view, &$query) {\n  switch($view->name) {\n    case 'my_view_machine_name':\n      _customviewsquery_my_view_name_views_query_alter($view, $query);\n      break;\n  }\n}\n\n/**\n * Callback to fix the Views 3 query object before execution\n */\nfunction _customviewsquery_my_view_name_views_query_alter(&amp;$view, &amp;$query) {\n  // Loop through the conditional parts of the query, and\n  // * Change = to LIKE\n  // * Add SQL wildcard characters to both sides of the value\n  foreach($query-&gt;where as $key =&gt; $val) {\n    $field = $val['conditions'][0]['field'];\n    $operator = $val['conditions'][0]['operator'];\n    $value = $val['conditions'][0]['value'];\n\n    if($field == 'node.title' &amp;&amp; $operator == '=') {\n      $query-&gt;where[$key]['conditions'][0]['operator'] = 'LIKE';\n      $query-&gt;where[$key]['conditions'][0]['value'] = '%' . $value . '%';\n    }\n\n  }\n}\n","php",[169],{"type":22,"tag":75,"props":170,"children":171},{"__ignoreMap":7},[172,191,199,207,215,223,262,286,306,320,334,343,352,360,369,378,386,404,413,422,431,489,537,579,621,629,694,762,845,854,862,870],{"type":22,"tag":79,"props":173,"children":174},{"class":81,"line":82},[175,180,185],{"type":22,"tag":79,"props":176,"children":177},{"style":86},[178],{"type":27,"value":179},"\u003C?",{"type":22,"tag":79,"props":181,"children":183},{"style":182},"--shiki-default:#79B8FF",[184],{"type":27,"value":167},{"type":22,"tag":79,"props":186,"children":188},{"style":187},"--shiki-default:#6A737D",[189],{"type":27,"value":190}," /**\n",{"type":22,"tag":79,"props":192,"children":193},{"class":81,"line":98},[194],{"type":22,"tag":79,"props":195,"children":196},{"style":187},[197],{"type":27,"value":198}," * Implements hook_views_query_alter\n",{"type":22,"tag":79,"props":200,"children":201},{"class":81,"line":122},[202],{"type":22,"tag":79,"props":203,"children":204},{"style":187},[205],{"type":27,"value":206}," *\n",{"type":22,"tag":79,"props":208,"children":209},{"class":81,"line":136},[210],{"type":22,"tag":79,"props":211,"children":212},{"style":187},[213],{"type":27,"value":214}," * Finds the correct view, and calls a relevant callback\n",{"type":22,"tag":79,"props":216,"children":217},{"class":81,"line":146},[218],{"type":22,"tag":79,"props":219,"children":220},{"style":187},[221],{"type":27,"value":222}," */\n",{"type":22,"tag":79,"props":224,"children":226},{"class":81,"line":225},6,[227,232,238,243,248,253,257],{"type":22,"tag":79,"props":228,"children":229},{"style":86},[230],{"type":27,"value":231},"function",{"type":22,"tag":79,"props":233,"children":235},{"style":234},"--shiki-default:#B392F0",[236],{"type":27,"value":237}," customviewsquery_views_query_alter",{"type":22,"tag":79,"props":239,"children":240},{"style":92},[241],{"type":27,"value":242},"(",{"type":22,"tag":79,"props":244,"children":245},{"style":86},[246],{"type":27,"value":247},"&",{"type":22,"tag":79,"props":249,"children":250},{"style":92},[251],{"type":27,"value":252},"$view, ",{"type":22,"tag":79,"props":254,"children":255},{"style":86},[256],{"type":27,"value":247},{"type":22,"tag":79,"props":258,"children":259},{"style":92},[260],{"type":27,"value":261},"$query) {\n",{"type":22,"tag":79,"props":263,"children":265},{"class":81,"line":264},7,[266,271,276,281],{"type":22,"tag":79,"props":267,"children":268},{"style":86},[269],{"type":27,"value":270},"  switch",{"type":22,"tag":79,"props":272,"children":273},{"style":92},[274],{"type":27,"value":275},"($view",{"type":22,"tag":79,"props":277,"children":278},{"style":86},[279],{"type":27,"value":280},"->",{"type":22,"tag":79,"props":282,"children":283},{"style":92},[284],{"type":27,"value":285},"name) {\n",{"type":22,"tag":79,"props":287,"children":289},{"class":81,"line":288},8,[290,295,301],{"type":22,"tag":79,"props":291,"children":292},{"style":86},[293],{"type":27,"value":294},"    case",{"type":22,"tag":79,"props":296,"children":298},{"style":297},"--shiki-default:#9ECBFF",[299],{"type":27,"value":300}," 'my_view_machine_name'",{"type":22,"tag":79,"props":302,"children":303},{"style":92},[304],{"type":27,"value":305},":\n",{"type":22,"tag":79,"props":307,"children":309},{"class":81,"line":308},9,[310,315],{"type":22,"tag":79,"props":311,"children":312},{"style":234},[313],{"type":27,"value":314},"      _customviewsquery_my_view_name_views_query_alter",{"type":22,"tag":79,"props":316,"children":317},{"style":92},[318],{"type":27,"value":319},"($view, $query);\n",{"type":22,"tag":79,"props":321,"children":323},{"class":81,"line":322},10,[324,329],{"type":22,"tag":79,"props":325,"children":326},{"style":86},[327],{"type":27,"value":328},"      break",{"type":22,"tag":79,"props":330,"children":331},{"style":92},[332],{"type":27,"value":333},";\n",{"type":22,"tag":79,"props":335,"children":337},{"class":81,"line":336},11,[338],{"type":22,"tag":79,"props":339,"children":340},{"style":92},[341],{"type":27,"value":342},"  }\n",{"type":22,"tag":79,"props":344,"children":346},{"class":81,"line":345},12,[347],{"type":22,"tag":79,"props":348,"children":349},{"style":92},[350],{"type":27,"value":351},"}\n",{"type":22,"tag":79,"props":353,"children":355},{"class":81,"line":354},13,[356],{"type":22,"tag":79,"props":357,"children":358},{"emptyLinePlaceholder":140},[359],{"type":27,"value":143},{"type":22,"tag":79,"props":361,"children":363},{"class":81,"line":362},14,[364],{"type":22,"tag":79,"props":365,"children":366},{"style":187},[367],{"type":27,"value":368},"/**\n",{"type":22,"tag":79,"props":370,"children":372},{"class":81,"line":371},15,[373],{"type":22,"tag":79,"props":374,"children":375},{"style":187},[376],{"type":27,"value":377}," * Callback to fix the Views 3 query object before execution\n",{"type":22,"tag":79,"props":379,"children":381},{"class":81,"line":380},16,[382],{"type":22,"tag":79,"props":383,"children":384},{"style":187},[385],{"type":27,"value":222},{"type":22,"tag":79,"props":387,"children":389},{"class":81,"line":388},17,[390,394,399],{"type":22,"tag":79,"props":391,"children":392},{"style":86},[393],{"type":27,"value":231},{"type":22,"tag":79,"props":395,"children":396},{"style":234},[397],{"type":27,"value":398}," _customviewsquery_my_view_name_views_query_alter",{"type":22,"tag":79,"props":400,"children":401},{"style":92},[402],{"type":27,"value":403},"(&amp;$view, &amp;$query) {\n",{"type":22,"tag":79,"props":405,"children":407},{"class":81,"line":406},18,[408],{"type":22,"tag":79,"props":409,"children":410},{"style":187},[411],{"type":27,"value":412},"  // Loop through the conditional parts of the query, and\n",{"type":22,"tag":79,"props":414,"children":416},{"class":81,"line":415},19,[417],{"type":22,"tag":79,"props":418,"children":419},{"style":187},[420],{"type":27,"value":421},"  // * Change = to LIKE\n",{"type":22,"tag":79,"props":423,"children":425},{"class":81,"line":424},20,[426],{"type":22,"tag":79,"props":427,"children":428},{"style":187},[429],{"type":27,"value":430},"  // * Add SQL wildcard characters to both sides of the value\n",{"type":22,"tag":79,"props":432,"children":434},{"class":81,"line":433},21,[435,440,445,450,455,460,465,470,475,480,484],{"type":22,"tag":79,"props":436,"children":437},{"style":86},[438],{"type":27,"value":439},"  foreach",{"type":22,"tag":79,"props":441,"children":442},{"style":92},[443],{"type":27,"value":444},"($query",{"type":22,"tag":79,"props":446,"children":447},{"style":86},[448],{"type":27,"value":449},"-&",{"type":22,"tag":79,"props":451,"children":452},{"style":182},[453],{"type":27,"value":454},"gt",{"type":22,"tag":79,"props":456,"children":457},{"style":92},[458],{"type":27,"value":459},";",{"type":22,"tag":79,"props":461,"children":462},{"style":182},[463],{"type":27,"value":464},"where",{"type":22,"tag":79,"props":466,"children":467},{"style":86},[468],{"type":27,"value":469}," as",{"type":22,"tag":79,"props":471,"children":472},{"style":92},[473],{"type":27,"value":474}," $key ",{"type":22,"tag":79,"props":476,"children":477},{"style":86},[478],{"type":27,"value":479},"=&",{"type":22,"tag":79,"props":481,"children":482},{"style":182},[483],{"type":27,"value":454},{"type":22,"tag":79,"props":485,"children":486},{"style":92},[487],{"type":27,"value":488},"; $val) {\n",{"type":22,"tag":79,"props":490,"children":492},{"class":81,"line":491},22,[493,498,503,508,513,518,523,527,532],{"type":22,"tag":79,"props":494,"children":495},{"style":92},[496],{"type":27,"value":497},"    $field ",{"type":22,"tag":79,"props":499,"children":500},{"style":86},[501],{"type":27,"value":502},"=",{"type":22,"tag":79,"props":504,"children":505},{"style":92},[506],{"type":27,"value":507}," $val[",{"type":22,"tag":79,"props":509,"children":510},{"style":297},[511],{"type":27,"value":512},"'conditions'",{"type":22,"tag":79,"props":514,"children":515},{"style":92},[516],{"type":27,"value":517},"][",{"type":22,"tag":79,"props":519,"children":520},{"style":182},[521],{"type":27,"value":522},"0",{"type":22,"tag":79,"props":524,"children":525},{"style":92},[526],{"type":27,"value":517},{"type":22,"tag":79,"props":528,"children":529},{"style":297},[530],{"type":27,"value":531},"'field'",{"type":22,"tag":79,"props":533,"children":534},{"style":92},[535],{"type":27,"value":536},"];\n",{"type":22,"tag":79,"props":538,"children":540},{"class":81,"line":539},23,[541,546,550,554,558,562,566,570,575],{"type":22,"tag":79,"props":542,"children":543},{"style":92},[544],{"type":27,"value":545},"    $operator ",{"type":22,"tag":79,"props":547,"children":548},{"style":86},[549],{"type":27,"value":502},{"type":22,"tag":79,"props":551,"children":552},{"style":92},[553],{"type":27,"value":507},{"type":22,"tag":79,"props":555,"children":556},{"style":297},[557],{"type":27,"value":512},{"type":22,"tag":79,"props":559,"children":560},{"style":92},[561],{"type":27,"value":517},{"type":22,"tag":79,"props":563,"children":564},{"style":182},[565],{"type":27,"value":522},{"type":22,"tag":79,"props":567,"children":568},{"style":92},[569],{"type":27,"value":517},{"type":22,"tag":79,"props":571,"children":572},{"style":297},[573],{"type":27,"value":574},"'operator'",{"type":22,"tag":79,"props":576,"children":577},{"style":92},[578],{"type":27,"value":536},{"type":22,"tag":79,"props":580,"children":582},{"class":81,"line":581},24,[583,588,592,596,600,604,608,612,617],{"type":22,"tag":79,"props":584,"children":585},{"style":92},[586],{"type":27,"value":587},"    $value ",{"type":22,"tag":79,"props":589,"children":590},{"style":86},[591],{"type":27,"value":502},{"type":22,"tag":79,"props":593,"children":594},{"style":92},[595],{"type":27,"value":507},{"type":22,"tag":79,"props":597,"children":598},{"style":297},[599],{"type":27,"value":512},{"type":22,"tag":79,"props":601,"children":602},{"style":92},[603],{"type":27,"value":517},{"type":22,"tag":79,"props":605,"children":606},{"style":182},[607],{"type":27,"value":522},{"type":22,"tag":79,"props":609,"children":610},{"style":92},[611],{"type":27,"value":517},{"type":22,"tag":79,"props":613,"children":614},{"style":297},[615],{"type":27,"value":616},"'value'",{"type":22,"tag":79,"props":618,"children":619},{"style":92},[620],{"type":27,"value":536},{"type":22,"tag":79,"props":622,"children":624},{"class":81,"line":623},25,[625],{"type":22,"tag":79,"props":626,"children":627},{"emptyLinePlaceholder":140},[628],{"type":27,"value":143},{"type":22,"tag":79,"props":630,"children":632},{"class":81,"line":631},26,[633,638,643,648,653,658,663,667,671,675,680,684,689],{"type":22,"tag":79,"props":634,"children":635},{"style":86},[636],{"type":27,"value":637},"    if",{"type":22,"tag":79,"props":639,"children":640},{"style":92},[641],{"type":27,"value":642},"($field ",{"type":22,"tag":79,"props":644,"children":645},{"style":86},[646],{"type":27,"value":647},"==",{"type":22,"tag":79,"props":649,"children":650},{"style":297},[651],{"type":27,"value":652}," 'node.title'",{"type":22,"tag":79,"props":654,"children":655},{"style":86},[656],{"type":27,"value":657}," &",{"type":22,"tag":79,"props":659,"children":660},{"style":182},[661],{"type":27,"value":662},"amp",{"type":22,"tag":79,"props":664,"children":665},{"style":92},[666],{"type":27,"value":459},{"type":22,"tag":79,"props":668,"children":669},{"style":86},[670],{"type":27,"value":247},{"type":22,"tag":79,"props":672,"children":673},{"style":182},[674],{"type":27,"value":662},{"type":22,"tag":79,"props":676,"children":677},{"style":92},[678],{"type":27,"value":679},"; $operator ",{"type":22,"tag":79,"props":681,"children":682},{"style":86},[683],{"type":27,"value":647},{"type":22,"tag":79,"props":685,"children":686},{"style":297},[687],{"type":27,"value":688}," '='",{"type":22,"tag":79,"props":690,"children":691},{"style":92},[692],{"type":27,"value":693},") {\n",{"type":22,"tag":79,"props":695,"children":697},{"class":81,"line":696},27,[698,703,707,711,715,719,724,728,732,736,740,744,749,753,758],{"type":22,"tag":79,"props":699,"children":700},{"style":92},[701],{"type":27,"value":702},"      $query",{"type":22,"tag":79,"props":704,"children":705},{"style":86},[706],{"type":27,"value":449},{"type":22,"tag":79,"props":708,"children":709},{"style":182},[710],{"type":27,"value":454},{"type":22,"tag":79,"props":712,"children":713},{"style":92},[714],{"type":27,"value":459},{"type":22,"tag":79,"props":716,"children":717},{"style":182},[718],{"type":27,"value":464},{"type":22,"tag":79,"props":720,"children":721},{"style":92},[722],{"type":27,"value":723},"[$key][",{"type":22,"tag":79,"props":725,"children":726},{"style":297},[727],{"type":27,"value":512},{"type":22,"tag":79,"props":729,"children":730},{"style":92},[731],{"type":27,"value":517},{"type":22,"tag":79,"props":733,"children":734},{"style":182},[735],{"type":27,"value":522},{"type":22,"tag":79,"props":737,"children":738},{"style":92},[739],{"type":27,"value":517},{"type":22,"tag":79,"props":741,"children":742},{"style":297},[743],{"type":27,"value":574},{"type":22,"tag":79,"props":745,"children":746},{"style":92},[747],{"type":27,"value":748},"] ",{"type":22,"tag":79,"props":750,"children":751},{"style":86},[752],{"type":27,"value":502},{"type":22,"tag":79,"props":754,"children":755},{"style":297},[756],{"type":27,"value":757}," 'LIKE'",{"type":22,"tag":79,"props":759,"children":760},{"style":92},[761],{"type":27,"value":333},{"type":22,"tag":79,"props":763,"children":765},{"class":81,"line":764},28,[766,770,774,778,782,786,790,794,798,802,806,810,814,818,823,828,833,837,841],{"type":22,"tag":79,"props":767,"children":768},{"style":92},[769],{"type":27,"value":702},{"type":22,"tag":79,"props":771,"children":772},{"style":86},[773],{"type":27,"value":449},{"type":22,"tag":79,"props":775,"children":776},{"style":182},[777],{"type":27,"value":454},{"type":22,"tag":79,"props":779,"children":780},{"style":92},[781],{"type":27,"value":459},{"type":22,"tag":79,"props":783,"children":784},{"style":182},[785],{"type":27,"value":464},{"type":22,"tag":79,"props":787,"children":788},{"style":92},[789],{"type":27,"value":723},{"type":22,"tag":79,"props":791,"children":792},{"style":297},[793],{"type":27,"value":512},{"type":22,"tag":79,"props":795,"children":796},{"style":92},[797],{"type":27,"value":517},{"type":22,"tag":79,"props":799,"children":800},{"style":182},[801],{"type":27,"value":522},{"type":22,"tag":79,"props":803,"children":804},{"style":92},[805],{"type":27,"value":517},{"type":22,"tag":79,"props":807,"children":808},{"style":297},[809],{"type":27,"value":616},{"type":22,"tag":79,"props":811,"children":812},{"style":92},[813],{"type":27,"value":748},{"type":22,"tag":79,"props":815,"children":816},{"style":86},[817],{"type":27,"value":502},{"type":22,"tag":79,"props":819,"children":820},{"style":297},[821],{"type":27,"value":822}," '%'",{"type":22,"tag":79,"props":824,"children":825},{"style":86},[826],{"type":27,"value":827}," .",{"type":22,"tag":79,"props":829,"children":830},{"style":92},[831],{"type":27,"value":832}," $value ",{"type":22,"tag":79,"props":834,"children":835},{"style":86},[836],{"type":27,"value":56},{"type":22,"tag":79,"props":838,"children":839},{"style":297},[840],{"type":27,"value":822},{"type":22,"tag":79,"props":842,"children":843},{"style":92},[844],{"type":27,"value":333},{"type":22,"tag":79,"props":846,"children":848},{"class":81,"line":847},29,[849],{"type":22,"tag":79,"props":850,"children":851},{"style":92},[852],{"type":27,"value":853},"    }\n",{"type":22,"tag":79,"props":855,"children":857},{"class":81,"line":856},30,[858],{"type":22,"tag":79,"props":859,"children":860},{"emptyLinePlaceholder":140},[861],{"type":27,"value":143},{"type":22,"tag":79,"props":863,"children":865},{"class":81,"line":864},31,[866],{"type":22,"tag":79,"props":867,"children":868},{"style":92},[869],{"type":27,"value":342},{"type":22,"tag":79,"props":871,"children":873},{"class":81,"line":872},32,[874],{"type":22,"tag":79,"props":875,"children":876},{"style":92},[877],{"type":27,"value":351},{"type":22,"tag":23,"props":879,"children":880},{},[881],{"type":27,"value":882},"You should substitute \"my_view_machine_name\" for Drupal's machine name for the view you want to change, and \"node.title\" to the contextual filter you want to modify (referenced by its table and column reference in Drupal's database).",{"type":22,"tag":23,"props":884,"children":885},{},[886],{"type":27,"value":887},"That's about it! Any questions or comments, fire away! I'm particularly interested to see if there is a way to do this in the Views UI.",{"type":22,"tag":23,"props":889,"children":890},{},[891],{"type":27,"value":892},"n00b",{"type":22,"tag":894,"props":895,"children":896},"style",{},[897],{"type":27,"value":898},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":98,"depth":98,"links":900},[],"markdown","content:posts:2012-08-21-drupal-views-3-contextual-filter.md","content","posts/2012-08-21-drupal-views-3-contextual-filter.md","posts/2012-08-21-drupal-views-3-contextual-filter","md",{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"imagesource":10,"imagecredit":10,"imageFilename":11,"createdAt":12,"updatedAt":12,"readingTime":908,"body":909,"_type":901,"_id":902,"_source":903,"_file":904,"_stem":905,"_extension":906},{"text":14,"minutes":15,"time":16,"words":17},{"type":19,"children":910,"toc":1636},[911,915,919,933,937,941,1006,1010,1620,1624,1628,1632],{"type":22,"tag":23,"props":912,"children":913},{},[914],{"type":27,"value":28},{"type":22,"tag":23,"props":916,"children":917},{},[918],{"type":27,"value":33},{"type":22,"tag":23,"props":920,"children":921},{},[922,923,927,928,932],{"type":27,"value":38},{"type":22,"tag":40,"props":924,"children":925},{"href":42,"target":43},[926],{"type":27,"value":46},{"type":27,"value":48},{"type":22,"tag":40,"props":929,"children":930},{"href":51,"target":43},[931],{"type":27,"value":54},{"type":27,"value":56},{"type":22,"tag":23,"props":934,"children":935},{},[936],{"type":27,"value":61},{"type":22,"tag":23,"props":938,"children":939},{},[940],{"type":27,"value":66},{"type":22,"tag":68,"props":942,"children":943},{"className":70,"code":71,"language":72,"meta":7,"style":7},[944],{"type":22,"tag":75,"props":945,"children":946},{"__ignoreMap":7},[947,958,977,988,995],{"type":22,"tag":79,"props":948,"children":949},{"class":81,"line":82},[950,954],{"type":22,"tag":79,"props":951,"children":952},{"style":86},[953],{"type":27,"value":89},{"type":22,"tag":79,"props":955,"children":956},{"style":92},[957],{"type":27,"value":95},{"type":22,"tag":79,"props":959,"children":960},{"class":81,"line":98},[961,965,969,973],{"type":22,"tag":79,"props":962,"children":963},{"style":86},[964],{"type":27,"value":104},{"type":22,"tag":79,"props":966,"children":967},{"style":92},[968],{"type":27,"value":109},{"type":22,"tag":79,"props":970,"children":971},{"style":86},[972],{"type":27,"value":114},{"type":22,"tag":79,"props":974,"children":975},{"style":92},[976],{"type":27,"value":119},{"type":22,"tag":79,"props":978,"children":979},{"class":81,"line":122},[980,984],{"type":22,"tag":79,"props":981,"children":982},{"style":86},[983],{"type":27,"value":128},{"type":22,"tag":79,"props":985,"children":986},{"style":92},[987],{"type":27,"value":133},{"type":22,"tag":79,"props":989,"children":990},{"class":81,"line":136},[991],{"type":22,"tag":79,"props":992,"children":993},{"emptyLinePlaceholder":140},[994],{"type":27,"value":143},{"type":22,"tag":79,"props":996,"children":997},{"class":81,"line":146},[998,1002],{"type":22,"tag":79,"props":999,"children":1000},{"style":86},[1001],{"type":27,"value":152},{"type":22,"tag":79,"props":1003,"children":1004},{"style":92},[1005],{"type":27,"value":157},{"type":22,"tag":23,"props":1007,"children":1008},{},[1009],{"type":27,"value":162},{"type":22,"tag":68,"props":1011,"children":1012},{"className":165,"code":166,"language":167,"meta":7,"style":7},[1013],{"type":22,"tag":75,"props":1014,"children":1015},{"__ignoreMap":7},[1016,1031,1038,1045,1052,1059,1090,1109,1124,1135,1146,1153,1160,1167,1174,1181,1188,1203,1210,1217,1224,1271,1310,1349,1388,1395,1450,1513,1592,1599,1606,1613],{"type":22,"tag":79,"props":1017,"children":1018},{"class":81,"line":82},[1019,1023,1027],{"type":22,"tag":79,"props":1020,"children":1021},{"style":86},[1022],{"type":27,"value":179},{"type":22,"tag":79,"props":1024,"children":1025},{"style":182},[1026],{"type":27,"value":167},{"type":22,"tag":79,"props":1028,"children":1029},{"style":187},[1030],{"type":27,"value":190},{"type":22,"tag":79,"props":1032,"children":1033},{"class":81,"line":98},[1034],{"type":22,"tag":79,"props":1035,"children":1036},{"style":187},[1037],{"type":27,"value":198},{"type":22,"tag":79,"props":1039,"children":1040},{"class":81,"line":122},[1041],{"type":22,"tag":79,"props":1042,"children":1043},{"style":187},[1044],{"type":27,"value":206},{"type":22,"tag":79,"props":1046,"children":1047},{"class":81,"line":136},[1048],{"type":22,"tag":79,"props":1049,"children":1050},{"style":187},[1051],{"type":27,"value":214},{"type":22,"tag":79,"props":1053,"children":1054},{"class":81,"line":146},[1055],{"type":22,"tag":79,"props":1056,"children":1057},{"style":187},[1058],{"type":27,"value":222},{"type":22,"tag":79,"props":1060,"children":1061},{"class":81,"line":225},[1062,1066,1070,1074,1078,1082,1086],{"type":22,"tag":79,"props":1063,"children":1064},{"style":86},[1065],{"type":27,"value":231},{"type":22,"tag":79,"props":1067,"children":1068},{"style":234},[1069],{"type":27,"value":237},{"type":22,"tag":79,"props":1071,"children":1072},{"style":92},[1073],{"type":27,"value":242},{"type":22,"tag":79,"props":1075,"children":1076},{"style":86},[1077],{"type":27,"value":247},{"type":22,"tag":79,"props":1079,"children":1080},{"style":92},[1081],{"type":27,"value":252},{"type":22,"tag":79,"props":1083,"children":1084},{"style":86},[1085],{"type":27,"value":247},{"type":22,"tag":79,"props":1087,"children":1088},{"style":92},[1089],{"type":27,"value":261},{"type":22,"tag":79,"props":1091,"children":1092},{"class":81,"line":264},[1093,1097,1101,1105],{"type":22,"tag":79,"props":1094,"children":1095},{"style":86},[1096],{"type":27,"value":270},{"type":22,"tag":79,"props":1098,"children":1099},{"style":92},[1100],{"type":27,"value":275},{"type":22,"tag":79,"props":1102,"children":1103},{"style":86},[1104],{"type":27,"value":280},{"type":22,"tag":79,"props":1106,"children":1107},{"style":92},[1108],{"type":27,"value":285},{"type":22,"tag":79,"props":1110,"children":1111},{"class":81,"line":288},[1112,1116,1120],{"type":22,"tag":79,"props":1113,"children":1114},{"style":86},[1115],{"type":27,"value":294},{"type":22,"tag":79,"props":1117,"children":1118},{"style":297},[1119],{"type":27,"value":300},{"type":22,"tag":79,"props":1121,"children":1122},{"style":92},[1123],{"type":27,"value":305},{"type":22,"tag":79,"props":1125,"children":1126},{"class":81,"line":308},[1127,1131],{"type":22,"tag":79,"props":1128,"children":1129},{"style":234},[1130],{"type":27,"value":314},{"type":22,"tag":79,"props":1132,"children":1133},{"style":92},[1134],{"type":27,"value":319},{"type":22,"tag":79,"props":1136,"children":1137},{"class":81,"line":322},[1138,1142],{"type":22,"tag":79,"props":1139,"children":1140},{"style":86},[1141],{"type":27,"value":328},{"type":22,"tag":79,"props":1143,"children":1144},{"style":92},[1145],{"type":27,"value":333},{"type":22,"tag":79,"props":1147,"children":1148},{"class":81,"line":336},[1149],{"type":22,"tag":79,"props":1150,"children":1151},{"style":92},[1152],{"type":27,"value":342},{"type":22,"tag":79,"props":1154,"children":1155},{"class":81,"line":345},[1156],{"type":22,"tag":79,"props":1157,"children":1158},{"style":92},[1159],{"type":27,"value":351},{"type":22,"tag":79,"props":1161,"children":1162},{"class":81,"line":354},[1163],{"type":22,"tag":79,"props":1164,"children":1165},{"emptyLinePlaceholder":140},[1166],{"type":27,"value":143},{"type":22,"tag":79,"props":1168,"children":1169},{"class":81,"line":362},[1170],{"type":22,"tag":79,"props":1171,"children":1172},{"style":187},[1173],{"type":27,"value":368},{"type":22,"tag":79,"props":1175,"children":1176},{"class":81,"line":371},[1177],{"type":22,"tag":79,"props":1178,"children":1179},{"style":187},[1180],{"type":27,"value":377},{"type":22,"tag":79,"props":1182,"children":1183},{"class":81,"line":380},[1184],{"type":22,"tag":79,"props":1185,"children":1186},{"style":187},[1187],{"type":27,"value":222},{"type":22,"tag":79,"props":1189,"children":1190},{"class":81,"line":388},[1191,1195,1199],{"type":22,"tag":79,"props":1192,"children":1193},{"style":86},[1194],{"type":27,"value":231},{"type":22,"tag":79,"props":1196,"children":1197},{"style":234},[1198],{"type":27,"value":398},{"type":22,"tag":79,"props":1200,"children":1201},{"style":92},[1202],{"type":27,"value":403},{"type":22,"tag":79,"props":1204,"children":1205},{"class":81,"line":406},[1206],{"type":22,"tag":79,"props":1207,"children":1208},{"style":187},[1209],{"type":27,"value":412},{"type":22,"tag":79,"props":1211,"children":1212},{"class":81,"line":415},[1213],{"type":22,"tag":79,"props":1214,"children":1215},{"style":187},[1216],{"type":27,"value":421},{"type":22,"tag":79,"props":1218,"children":1219},{"class":81,"line":424},[1220],{"type":22,"tag":79,"props":1221,"children":1222},{"style":187},[1223],{"type":27,"value":430},{"type":22,"tag":79,"props":1225,"children":1226},{"class":81,"line":433},[1227,1231,1235,1239,1243,1247,1251,1255,1259,1263,1267],{"type":22,"tag":79,"props":1228,"children":1229},{"style":86},[1230],{"type":27,"value":439},{"type":22,"tag":79,"props":1232,"children":1233},{"style":92},[1234],{"type":27,"value":444},{"type":22,"tag":79,"props":1236,"children":1237},{"style":86},[1238],{"type":27,"value":449},{"type":22,"tag":79,"props":1240,"children":1241},{"style":182},[1242],{"type":27,"value":454},{"type":22,"tag":79,"props":1244,"children":1245},{"style":92},[1246],{"type":27,"value":459},{"type":22,"tag":79,"props":1248,"children":1249},{"style":182},[1250],{"type":27,"value":464},{"type":22,"tag":79,"props":1252,"children":1253},{"style":86},[1254],{"type":27,"value":469},{"type":22,"tag":79,"props":1256,"children":1257},{"style":92},[1258],{"type":27,"value":474},{"type":22,"tag":79,"props":1260,"children":1261},{"style":86},[1262],{"type":27,"value":479},{"type":22,"tag":79,"props":1264,"children":1265},{"style":182},[1266],{"type":27,"value":454},{"type":22,"tag":79,"props":1268,"children":1269},{"style":92},[1270],{"type":27,"value":488},{"type":22,"tag":79,"props":1272,"children":1273},{"class":81,"line":491},[1274,1278,1282,1286,1290,1294,1298,1302,1306],{"type":22,"tag":79,"props":1275,"children":1276},{"style":92},[1277],{"type":27,"value":497},{"type":22,"tag":79,"props":1279,"children":1280},{"style":86},[1281],{"type":27,"value":502},{"type":22,"tag":79,"props":1283,"children":1284},{"style":92},[1285],{"type":27,"value":507},{"type":22,"tag":79,"props":1287,"children":1288},{"style":297},[1289],{"type":27,"value":512},{"type":22,"tag":79,"props":1291,"children":1292},{"style":92},[1293],{"type":27,"value":517},{"type":22,"tag":79,"props":1295,"children":1296},{"style":182},[1297],{"type":27,"value":522},{"type":22,"tag":79,"props":1299,"children":1300},{"style":92},[1301],{"type":27,"value":517},{"type":22,"tag":79,"props":1303,"children":1304},{"style":297},[1305],{"type":27,"value":531},{"type":22,"tag":79,"props":1307,"children":1308},{"style":92},[1309],{"type":27,"value":536},{"type":22,"tag":79,"props":1311,"children":1312},{"class":81,"line":539},[1313,1317,1321,1325,1329,1333,1337,1341,1345],{"type":22,"tag":79,"props":1314,"children":1315},{"style":92},[1316],{"type":27,"value":545},{"type":22,"tag":79,"props":1318,"children":1319},{"style":86},[1320],{"type":27,"value":502},{"type":22,"tag":79,"props":1322,"children":1323},{"style":92},[1324],{"type":27,"value":507},{"type":22,"tag":79,"props":1326,"children":1327},{"style":297},[1328],{"type":27,"value":512},{"type":22,"tag":79,"props":1330,"children":1331},{"style":92},[1332],{"type":27,"value":517},{"type":22,"tag":79,"props":1334,"children":1335},{"style":182},[1336],{"type":27,"value":522},{"type":22,"tag":79,"props":1338,"children":1339},{"style":92},[1340],{"type":27,"value":517},{"type":22,"tag":79,"props":1342,"children":1343},{"style":297},[1344],{"type":27,"value":574},{"type":22,"tag":79,"props":1346,"children":1347},{"style":92},[1348],{"type":27,"value":536},{"type":22,"tag":79,"props":1350,"children":1351},{"class":81,"line":581},[1352,1356,1360,1364,1368,1372,1376,1380,1384],{"type":22,"tag":79,"props":1353,"children":1354},{"style":92},[1355],{"type":27,"value":587},{"type":22,"tag":79,"props":1357,"children":1358},{"style":86},[1359],{"type":27,"value":502},{"type":22,"tag":79,"props":1361,"children":1362},{"style":92},[1363],{"type":27,"value":507},{"type":22,"tag":79,"props":1365,"children":1366},{"style":297},[1367],{"type":27,"value":512},{"type":22,"tag":79,"props":1369,"children":1370},{"style":92},[1371],{"type":27,"value":517},{"type":22,"tag":79,"props":1373,"children":1374},{"style":182},[1375],{"type":27,"value":522},{"type":22,"tag":79,"props":1377,"children":1378},{"style":92},[1379],{"type":27,"value":517},{"type":22,"tag":79,"props":1381,"children":1382},{"style":297},[1383],{"type":27,"value":616},{"type":22,"tag":79,"props":1385,"children":1386},{"style":92},[1387],{"type":27,"value":536},{"type":22,"tag":79,"props":1389,"children":1390},{"class":81,"line":623},[1391],{"type":22,"tag":79,"props":1392,"children":1393},{"emptyLinePlaceholder":140},[1394],{"type":27,"value":143},{"type":22,"tag":79,"props":1396,"children":1397},{"class":81,"line":631},[1398,1402,1406,1410,1414,1418,1422,1426,1430,1434,1438,1442,1446],{"type":22,"tag":79,"props":1399,"children":1400},{"style":86},[1401],{"type":27,"value":637},{"type":22,"tag":79,"props":1403,"children":1404},{"style":92},[1405],{"type":27,"value":642},{"type":22,"tag":79,"props":1407,"children":1408},{"style":86},[1409],{"type":27,"value":647},{"type":22,"tag":79,"props":1411,"children":1412},{"style":297},[1413],{"type":27,"value":652},{"type":22,"tag":79,"props":1415,"children":1416},{"style":86},[1417],{"type":27,"value":657},{"type":22,"tag":79,"props":1419,"children":1420},{"style":182},[1421],{"type":27,"value":662},{"type":22,"tag":79,"props":1423,"children":1424},{"style":92},[1425],{"type":27,"value":459},{"type":22,"tag":79,"props":1427,"children":1428},{"style":86},[1429],{"type":27,"value":247},{"type":22,"tag":79,"props":1431,"children":1432},{"style":182},[1433],{"type":27,"value":662},{"type":22,"tag":79,"props":1435,"children":1436},{"style":92},[1437],{"type":27,"value":679},{"type":22,"tag":79,"props":1439,"children":1440},{"style":86},[1441],{"type":27,"value":647},{"type":22,"tag":79,"props":1443,"children":1444},{"style":297},[1445],{"type":27,"value":688},{"type":22,"tag":79,"props":1447,"children":1448},{"style":92},[1449],{"type":27,"value":693},{"type":22,"tag":79,"props":1451,"children":1452},{"class":81,"line":696},[1453,1457,1461,1465,1469,1473,1477,1481,1485,1489,1493,1497,1501,1505,1509],{"type":22,"tag":79,"props":1454,"children":1455},{"style":92},[1456],{"type":27,"value":702},{"type":22,"tag":79,"props":1458,"children":1459},{"style":86},[1460],{"type":27,"value":449},{"type":22,"tag":79,"props":1462,"children":1463},{"style":182},[1464],{"type":27,"value":454},{"type":22,"tag":79,"props":1466,"children":1467},{"style":92},[1468],{"type":27,"value":459},{"type":22,"tag":79,"props":1470,"children":1471},{"style":182},[1472],{"type":27,"value":464},{"type":22,"tag":79,"props":1474,"children":1475},{"style":92},[1476],{"type":27,"value":723},{"type":22,"tag":79,"props":1478,"children":1479},{"style":297},[1480],{"type":27,"value":512},{"type":22,"tag":79,"props":1482,"children":1483},{"style":92},[1484],{"type":27,"value":517},{"type":22,"tag":79,"props":1486,"children":1487},{"style":182},[1488],{"type":27,"value":522},{"type":22,"tag":79,"props":1490,"children":1491},{"style":92},[1492],{"type":27,"value":517},{"type":22,"tag":79,"props":1494,"children":1495},{"style":297},[1496],{"type":27,"value":574},{"type":22,"tag":79,"props":1498,"children":1499},{"style":92},[1500],{"type":27,"value":748},{"type":22,"tag":79,"props":1502,"children":1503},{"style":86},[1504],{"type":27,"value":502},{"type":22,"tag":79,"props":1506,"children":1507},{"style":297},[1508],{"type":27,"value":757},{"type":22,"tag":79,"props":1510,"children":1511},{"style":92},[1512],{"type":27,"value":333},{"type":22,"tag":79,"props":1514,"children":1515},{"class":81,"line":764},[1516,1520,1524,1528,1532,1536,1540,1544,1548,1552,1556,1560,1564,1568,1572,1576,1580,1584,1588],{"type":22,"tag":79,"props":1517,"children":1518},{"style":92},[1519],{"type":27,"value":702},{"type":22,"tag":79,"props":1521,"children":1522},{"style":86},[1523],{"type":27,"value":449},{"type":22,"tag":79,"props":1525,"children":1526},{"style":182},[1527],{"type":27,"value":454},{"type":22,"tag":79,"props":1529,"children":1530},{"style":92},[1531],{"type":27,"value":459},{"type":22,"tag":79,"props":1533,"children":1534},{"style":182},[1535],{"type":27,"value":464},{"type":22,"tag":79,"props":1537,"children":1538},{"style":92},[1539],{"type":27,"value":723},{"type":22,"tag":79,"props":1541,"children":1542},{"style":297},[1543],{"type":27,"value":512},{"type":22,"tag":79,"props":1545,"children":1546},{"style":92},[1547],{"type":27,"value":517},{"type":22,"tag":79,"props":1549,"children":1550},{"style":182},[1551],{"type":27,"value":522},{"type":22,"tag":79,"props":1553,"children":1554},{"style":92},[1555],{"type":27,"value":517},{"type":22,"tag":79,"props":1557,"children":1558},{"style":297},[1559],{"type":27,"value":616},{"type":22,"tag":79,"props":1561,"children":1562},{"style":92},[1563],{"type":27,"value":748},{"type":22,"tag":79,"props":1565,"children":1566},{"style":86},[1567],{"type":27,"value":502},{"type":22,"tag":79,"props":1569,"children":1570},{"style":297},[1571],{"type":27,"value":822},{"type":22,"tag":79,"props":1573,"children":1574},{"style":86},[1575],{"type":27,"value":827},{"type":22,"tag":79,"props":1577,"children":1578},{"style":92},[1579],{"type":27,"value":832},{"type":22,"tag":79,"props":1581,"children":1582},{"style":86},[1583],{"type":27,"value":56},{"type":22,"tag":79,"props":1585,"children":1586},{"style":297},[1587],{"type":27,"value":822},{"type":22,"tag":79,"props":1589,"children":1590},{"style":92},[1591],{"type":27,"value":333},{"type":22,"tag":79,"props":1593,"children":1594},{"class":81,"line":847},[1595],{"type":22,"tag":79,"props":1596,"children":1597},{"style":92},[1598],{"type":27,"value":853},{"type":22,"tag":79,"props":1600,"children":1601},{"class":81,"line":856},[1602],{"type":22,"tag":79,"props":1603,"children":1604},{"emptyLinePlaceholder":140},[1605],{"type":27,"value":143},{"type":22,"tag":79,"props":1607,"children":1608},{"class":81,"line":864},[1609],{"type":22,"tag":79,"props":1610,"children":1611},{"style":92},[1612],{"type":27,"value":342},{"type":22,"tag":79,"props":1614,"children":1615},{"class":81,"line":872},[1616],{"type":22,"tag":79,"props":1617,"children":1618},{"style":92},[1619],{"type":27,"value":351},{"type":22,"tag":23,"props":1621,"children":1622},{},[1623],{"type":27,"value":882},{"type":22,"tag":23,"props":1625,"children":1626},{},[1627],{"type":27,"value":887},{"type":22,"tag":23,"props":1629,"children":1630},{},[1631],{"type":27,"value":892},{"type":22,"tag":894,"props":1633,"children":1634},{},[1635],{"type":27,"value":898},{"title":7,"searchDepth":98,"depth":98,"links":1637},[],1737805429483]