import k from"./DGZyyvJM.js";import{g as $,e as C,h as M,f as T,i as D,o as m,c as d,a as e,t as p,u as s,d as v,b as A}from"./DQbB9rhz.js";import{u as I,q as N}from"./BkX48DxD.js";import{u as P}from"./-KIvAyxq.js";import"./CSFgOkz0.js";import"./BlC6gkDl.js";import"./C-v3KzvZ.js";import"./CxYJgpPD.js";import"./Dc0WSB1t.js";import"./DfAyF1hg.js";function B(_,o){const{title:r,titleTemplate:c,...t}=_;return P({title:r,titleTemplate:c,_flatMeta:t},{...o,transform(a){const n=$({...a._flatMeta});return delete a._flatMeta,{...a,meta:n}}})}var U={};const V={class:"blog-list px-3 py-5 p-md-5"},q={class:"blog-post px-3 py-5 p-md-5"},z={class:"blog-post-header"},E={class:"title mb-2"},R={class:"mb-3"},S={class:"text-zinc-600"},F=["data-livestamp"],H={class:"text-zinc-400"},L={class:"blog-post-body"},O={class:"blog-banner"},j=["src"],G={class:"mt-2 text-center image-caption"},J=["href"],K={key:1},it=C({__name:"[slug]",async setup(_){let o,r;const c=M(),{data:t}=([o,r]=T(async()=>I("post",async()=>await N(c.path).findOne())),o=await o,r(),o);if(!t.value)throw D({statusCode:404,statusMessage:"Page Not Found"});const a=U.APP_URL,n=`${t.value.title}`,l=t.value.description,u=`${a}/images/posts/${t.value.image}`;return B({title:n,titleTemplate:g=>`${g} | alexshepherd.me`,description:l,ogDescription:l,ogImage:u,ogTitle:n,ogUrl:`${a}${c.path}`,twitterCard:"summary",twitterTitle:n,twitterDescription:l,twitterImage:u}),(g,i)=>{var f,h,y,b,x;const w=k;return m(),d("section",V,[e("article",q,[e("header",z,[e("h2",E,p((f=s(t))==null?void 0:f.title),1),e("div",R,[e("span",S,[i[0]||(i[0]=v("Published ")),e("span",{"data-livestamp":(h=s(t))==null?void 0:h.createdAt},null,8,F)]),i[1]||(i[1]=e("br",null,null,-1)),e("small",H,p((y=s(t))==null?void 0:y.readingTime.text),1)])]),e("div",L,[e("figure",O,[e("img",{class:"img-fluid",src:`/images/posts/${(b=s(t))==null?void 0:b.image}`,alt:"image"},null,8,j),e("figcaption",G,[i[2]||(i[2]=v(" Image Credit: ")),(x=s(t))!=null&&x.imagesource?(m(),d("a",{key:0,href:s(t).imagesource,target:"_blank"},p(s(t).imagecredit),9,J)):(m(),d("span",K,"Unknown (if this is your work, reach out to me and I'll credit you!)"))])]),A(w,{document:s(t)},null,8,["document"])])])])}}});export{it as default};
