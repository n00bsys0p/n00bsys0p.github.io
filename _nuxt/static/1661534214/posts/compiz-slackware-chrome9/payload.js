__NUXT_JSONP__("/posts/compiz-slackware-chrome9", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N){return {data:[{post:{slug:"compiz-slackware-chrome9",description:"Get your VIA Chrome9 card to work with Compiz Fusion",title:"Compiz on Slackware with VIA Chrome9!!!",imagesource:"https:\u002F\u002Fcommons.wikimedia.org\u002Fwiki\u002FFile:Tread_chrome_metal.jpg",imagecredit:"Georges Grondin",image:"2008.10.07T14:00:00_compiz-slackware-chrome9.jpg",createdAt:C,updatedAt:C,toc:[],body:{type:"root",children:[{type:b,tag:f,props:{},children:[{type:a,value:"Hey peeps, long time no see, and yes, you did read that right..."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"With Via's release a short while ago of OSS drivers for chrome9 cards, it's now possible to have chrome9-powered Compiz-fusion on whichever distro you like! Officially they only support Ubuntu 8.04, but the source is readily available, so as long as you're not scared of the command prompt (would you be using linux if you were? :P) you can compile your way to compiz-enabled beauty. This guide will outline the basics for compilation on Slackware 12.0, but it shouldn't be too hard to port it to any other distro. Anyway... On with the guide..."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"To start with, you will need:"}]},{type:a,value:c},{type:b,tag:D,props:{},children:[{type:b,tag:o,props:{},children:[{type:a,value:"Kernel source for a 2.6.24 variant. In this case I used 2.6.24.7 from "},{type:b,tag:s,props:{href:"http:\u002F\u002Fwww.kernel.org"},children:[{type:a,value:"www.kernel.org"}]},{type:a,value:". I tried it with 2.6.26, but wasn't able to get the via_chrome9 kernel module to compile, although it's probably possible."}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:"The xf86 VIA vga driver source from "},{type:b,tag:s,props:{title:"VIA xf86 driver",href:"http:\u002F\u002Flinux.via.com.tw\u002Fsupport\u002FbeginDownload.action?eleid=17&fid=381",target:E},children:[{type:a,value:w}]},{type:a,value:t}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:"The chrome9 patch package from "},{type:b,tag:s,props:{title:"Via Chrome9 oatch",href:"http:\u002F\u002Flinux.via.com.tw\u002Fsupport\u002FbeginDownload.action?eleid=25&fid=159",target:E},children:[{type:a,value:w}]},{type:a,value:t}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:"A basic knowledge of how to compile and install a customised kernel."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Step 1: Unpack and patch your kernel"},{type:b,tag:p,props:{},children:[]},{type:a,value:"\nOn a console in the folder you've downloaded the kernel source to:"}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:"tar"}]},{type:a,value:" xvjf linux-2.6.24.7.tar.bz2\n"},{type:b,tag:d,props:{className:[e,x,y]},children:[{type:a,value:F}]},{type:a,value:" linux-2.6.24.7\n"}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Now unpack the chrome9 patch tarball (GUI is easiest with this one, as the folder and file names are a pain to deal with in the console). Copy these files to the linux source folder and run the following commands:"}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"patch -p0 "},{type:b,tag:d,props:{className:[e,q]},children:[{type:a,value:G}]},{type:a,value:H},{type:b,tag:d,props:{className:[e,I]},children:[{type:a,value:J}]},{type:a,value:" via-agp.patch-2.6.24\npatch -p0 "},{type:b,tag:d,props:{className:[e,q]},children:[{type:a,value:G}]},{type:a,value:H},{type:b,tag:d,props:{className:[e,I]},children:[{type:a,value:J}]},{type:a,value:" via-chrome9-drm.patch-2.6.24\n"}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Step 2: Configure, compile and install your kernel"},{type:b,tag:p,props:{},children:[]},{type:a,value:"\nNow you're ready to configure your kernel. In Slackware, you'll want to use the following (as root):"}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:u}]},{type:a,value:" \u002Fproc\u002Fconfig.gz "},{type:b,tag:d,props:{className:[e,x,y]},children:[{type:a,value:t}]},{type:a,value:"\ngunzip config.gz\n"},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:"mv"}]},{type:a,value:" config .config\n"},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:v}]},{type:a,value:" xconfig\n"}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Now make sure that these items are compiled as modules (a little blob in the checkbox)"}]},{type:a,value:c},{type:b,tag:D,props:{},children:[{type:b,tag:o,props:{},children:[{type:b,tag:K,props:{},children:[{type:a,value:"Device Drivers --\u003E Graphics Support --\u003E \u002Fdev\u002Fagpgart (AGP Support) --\u003E VIA Chipset support"}]}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:b,tag:K,props:{},children:[{type:a,value:"Device Drivers --\u003E Graphics Support --\u003E Direct Rendering Manager --\u003E Via unichrome9 video cards"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Now compile the kernel as follows:"}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:v}]},{type:a,value:" modules modules_install bzImage\n"}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"When this finishes (it'll take a good hour and a half), install the kernel with these commands (as root):"}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:u}]},{type:a,value:" arch\u002Fx86\u002Fboot\u002FbzImage \u002Fboot\u002Fvmlinuz-custom-2.6.24.7\n"},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:u}]},{type:a,value:" System.map \u002Fboot\u002FSystem.map-custom-2.6.24.7\n"},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:u}]},{type:a,value:" .config \u002Fboot\u002Fconfig-custom-2.6.24.7\n"}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"If you need an initrd you should create it now. As long as you've compiled support for your main filesystem (e.g. ext3, reiserfs) into your kernel, you don't really need one though."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Something to note is that the kernel "},{type:b,tag:"del",props:{dateTime:"00"},children:[{type:a,value:"installed the via_chrome9_dri to the wrong location for Slackware for some reason. I had to find where it was installed and move it to \u002Fusr\u002Flib\u002Fmodules\u002Fdri."}]},{type:a,value:" requires via_chrome9_dri.so to be installed, so if you can't find it, just rip the file from the “chrome9.83-242-u804.tar.gz”, downloadable from "},{type:b,tag:s,props:{href:"http:\u002F\u002Flinux.via.com.tw\u002Fsupport\u002FbeginDownload.action?eleid=2&fid=364"},children:[{type:a,value:w}]},{type:a,value:". On Slackware, this file needs to be in \u002Fusr\u002Flib\u002Fmodules\u002Fdri, and in Ubuntu (I have subsequently learned) in \u002Fusr\u002Flib\u002Fdri. Also, I have seen reports of the modules having the wrong read-permissions. Reset these with the chmod command."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Now set up your bootloader to boot from this kernel. In lilo, add these lines to your \u002Fetc\u002Flilo.conf..."}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"image "},{type:b,tag:d,props:{className:[e,q]},children:[{type:a,value:z}]},{type:a,value:" \u002Fboot\u002Fvmlinuz-custom-2.6.24.7\nread-only\nroot "},{type:b,tag:d,props:{className:[e,q]},children:[{type:a,value:z}]},{type:a,value:" \u002Fdev\u002Fsda1 "},{type:b,tag:d,props:{className:[e,A]},children:[{type:a,value:"# Replace sda1 with your main HDD device node"}]},{type:a,value:"\nlabel "},{type:b,tag:d,props:{className:[e,q]},children:[{type:a,value:z}]},{type:a,value:" NewKernel\n"}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Also, it is essential that you have your current kernel as an entry in there as well... If anything goes wrong and you haven't, you'll be in for a world of hurt, er, fun... Yes, fun."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"To install lilio use the following command (as root):"}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"lilo -v "},{type:b,tag:d,props:{className:[e,A]},children:[{type:a,value:"# I always use the -c flag as well to speed up booting, but I can't guarantee it'll work for you."}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Now reboot, select NewKernel from the boot loader, and cross your fingers!"},{type:b,tag:p,props:{},children:[]},{type:a,value:"\nStep 3: Compile the VIA xf86 driver"},{type:b,tag:p,props:{},children:[]},{type:a,value:"\nFirst up, in a console, navigate to the folder in which you've got the driver tarball. Now... (as root)"}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:d,props:{className:[e,x,y]},children:[{type:a,value:F}]},{type:a,value:" xf86-video-via-83.1.0\u002FX11R7\n"},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:"chmod"}]},{type:a,value:" +x config_x11r7 configure autogen.sh\n.\u002Fautogen.sh\n"},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:v}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:v}]},{type:a,value:r},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:"install"}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Step 4: Configure X.org"},{type:b,tag:p,props:{},children:[]},{type:a,value:"\nNow you can get to editing your xorg.conf. This bit was the most time consuming for me, as there were an unholy number of problems I experienced trying to get the configuration right... Insert the following lines under the section named (if they're not already there). I always switch to runlevel 3 (text mode) before messing with my xorg.conf, as it makes it a lot easier to fix it if you screw up."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Module:"}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"Load "},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"dbe\""}]},{type:a,value:B},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"dri\""}]},{type:a,value:B},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"glx\""}]},{type:a,value:B},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"extmod\""}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Device (modify the Driver line, don't add a new one):"}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"Driver "},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"via\""}]},{type:a,value:L},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"LCDPort\""}]},{type:a,value:r},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"DFP_HIGHLOW\""}]},{type:a,value:r},{type:b,tag:d,props:{className:[e,A]},children:[{type:a,value:"# This line is necessary to avoid the 'black screen' problem"}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Screen:"}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:a,value:M},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"XAANoOffscreenPixmaps\""}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"ServerLayout:"}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:a,value:M},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"AIGLX\""}]},{type:a,value:r},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"on\""}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"You'll have to add in the following two sections to the end of the file..."}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:a,value:N},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"DRI\""}]},{type:a,value:"\nMode 0666\nEndSection\n"}]}]}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:a,value:N},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"Extensions\""}]},{type:a,value:L},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"Composite\""}]},{type:a,value:r},{type:b,tag:d,props:{className:[e,m]},children:[{type:a,value:"\"enable\""}]},{type:a,value:"\nEndSection\n"}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Now restart your X-server (ctrl-alt-backspace), open up a console, and type the following:"}]},{type:a,value:c},{type:b,tag:g,props:{className:[h]},children:[{type:b,tag:i,props:{className:[j,k]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"glxinfo "},{type:b,tag:d,props:{className:[e,q]},children:[{type:a,value:"|"}]},{type:a,value:r},{type:b,tag:d,props:{className:[e,n]},children:[{type:a,value:"grep"}]},{type:a,value:" render\n"}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"It should come back with \"direct rendering: Yes\". If it does then we're nearly there! If not, then check your Xorg log files for anything which looks broken, and google the problem."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Section 5 (almost there!): Install Compiz-Fusion\u002FEmerald"},{type:b,tag:p,props:{},children:[]},{type:a,value:"\nI'm not going to go into details about this section, as you may well suffer dependency hell trying to get them to install. I used the slackbuilds and instructions from "},{type:b,tag:s,props:{href:"http:\u002F\u002Fwww.slackbuilds.org"},children:[{type:a,value:"SlackBuilds.org"}]},{type:a,value:t}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The problem I next faced was whenever I started compiz with \"compiz --replace kconfig\", the window decorator died with the error \"glx_ext_texture_from_pixmap is missing\". I spent a long while trying to get this to work, and ultimately did not find an answer... However, when I installed and ran the fusion-icon package, it just worked first time."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"One of the most valuable things to take to heart if it all goes wrong is - \"If at first you don't succeed, try and try (and try) again\". It took me many hours to work through all of the problems I encountered along the way, but it was ultimately worth it for all the compiz-enabled gooey glory!"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Until next time (whenever that may be!)... Enjoy!"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"n00b"}]}]},dir:"\u002Fposts",path:"\u002Fposts\u002Fcompiz-slackware-chrome9",extension:".md",readingStats:{text:"6 min read",minutes:5.255,time:315300,words:1051}}}],fetch:{},mutations:void 0}}("text","element","\n","span","token","p","div","nuxt-content-highlight","pre","language-bash","line-numbers","code","string","function","li","br","operator"," ","a",".","cp","make","here","builtin","class-name","=","comment","\nLoad ","2008-10-07T14:00:00.000Z","ul","_blank","cd","&","lt","punctuation",";","strong","\nOption ","Option ","Section ")));