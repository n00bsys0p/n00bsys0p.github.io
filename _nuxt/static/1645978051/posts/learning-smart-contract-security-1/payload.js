__NUXT_JSONP__("/posts/learning-smart-contract-security-1", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd){return {data:[{post:{slug:"learning-smart-contract-security-1",description:"Working through Capture The Ether warmup challenges using Hardhat",title:"Learning Smart Contract Security - Part 1",imagesource:"https:\u002F\u002Fethereum.org\u002Fassets",imagecredit:"ethereum.org",image:"2022.02.27T15:57:17_learning-smart-contract-security-1.png",createdAt:aH,updatedAt:aH,toc:[],body:{type:"root",children:[{type:b,tag:s,props:{},children:[{type:a,value:"After "},{type:b,tag:C,props:{href:"https:\u002F\u002Falexshepherd.me\u002Fposts\u002Fdocker-smart-contract-dev-environment",rel:[D,E,F],target:G},children:[{type:a,value:"setting up a Solidity Smart Contract development environment"}]},{type:a,value:", let's get started learning both how to use Hardhat, and Smart Contract security at the same time, by completing some of the challenges on "},{type:b,tag:C,props:{href:"https:\u002F\u002Fcapturetheether.com",rel:[D,E,F],target:G},children:[{type:a,value:"Capture The Ether"}]},{type:a,value:m}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"Let's start from the place we left off last time, and check out "},{type:b,tag:C,props:{href:"https:\u002F\u002Fcapturetheether.com\u002Fchallenges\u002Fwarmup\u002Fdeploy\u002F",rel:[D,E,F],target:G},children:[{type:a,value:"warmup challenge #1: \"Deploy a contract\""}]},{type:a,value:". Rather than go through the relatively arduous process of getting some Ropsten testnet Ethereum, what we'll do is use Hardhat to simulate the entire thing (albeit without the Metamask integration - we're focusing on practicing building unit tests here)."}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"Our challenge is simple - deploy a Smart Contract, and then verify it's deployed by interacting with it. The challenge's code is as follows:"}]},{type:a,value:k},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:c,props:{className:[M]},children:[{type:a,value:aI}]},{type:b,tag:N,props:{className:[O,aw]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ax}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ac}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,az,Y]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ad}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:"DeployChallenge"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F This tells the CaptureTheFlag contract that the challenge is complete."}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"pure"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aJ}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aL}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:k}]}]}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"This Smart Contract just does one thing - returns "},{type:b,tag:n,props:{},children:[{type:a,value:I}]},{type:a,value:" when we call the "},{type:b,tag:n,props:{},children:[{type:a,value:z}]},{type:a,value:" method. So all we need to do is deploy it. Start by creating the file "},{type:b,tag:n,props:{},children:[{type:a,value:aI}]},{type:a,value:", and pasting in the above Solidity code. First, note the "},{type:b,tag:n,props:{},children:[{type:a,value:"pragma solidity"}]},{type:a,value:" line at the top. This defines the spec for the version of "},{type:b,tag:n,props:{},children:[{type:a,value:"solc"}]},{type:a,value:" that will be used to compile this version. In order to compile this particular contract, we will need to tell Hardhat which versions of the Solidity compiler to download. To do this, edit your "},{type:b,tag:n,props:{},children:[{type:a,value:aM}]},{type:a,value:" file in your repository root."}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"You need to change the "},{type:b,tag:n,props:{},children:[{type:a,value:ac}]},{type:a,value:" member. It should start out containing a simple string; something like "},{type:b,tag:n,props:{},children:[{type:a,value:"  solidity: \"0.8.4\""}]},{type:a,value:". We want to be able to support multiple versions, so let's change this to the following, to keep support for 0.8.4, and also add support for ^0.4.21:"}]},{type:a,value:k},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:c,props:{className:[M]},children:[{type:a,value:aM}]},{type:b,tag:N,props:{className:[O,Z]},children:[{type:b,tag:n,props:{},children:[{type:a,value:"  solidity"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n    compilers"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"0.8.4\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"0.4.25\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:k}]}]}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"0.4.25 is the latest version in the 0.4 series, so we'll use that. It is possible to upgrade most of these to use the latest version of Solidity, but some of them rely on old compiler bugs, and there's not a huge amount of point in doing so this early in our learning journey. Now, let's create our unit test."}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"Create a new folder in the "},{type:b,tag:n,props:{},children:[{type:a,value:"test"}]},{type:a,value:" folder called "},{type:b,tag:n,props:{},children:[{type:a,value:"warmup"}]},{type:a,value:", and then create a file in there called "},{type:b,tag:n,props:{},children:[{type:a,value:"deploy-challenge.ts"}]},{type:a,value:". Paste the following code in there:"}]},{type:a,value:k},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:c,props:{className:[M]},children:[{type:a,value:"test\u002Fwarmup\u002Fdeploy-challenge.ts"}]},{type:b,tag:N,props:{className:[O,Z]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:P}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:P}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"should return true when deployed\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:k}]}]}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"This defines a basic "},{type:b,tag:C,props:{href:"https:\u002F\u002Fmochajs.org\u002F",rel:[D,E,F],target:G},children:[{type:a,value:"mocha"}]},{type:a,value:" test group called \"DeployChallenge\", and a single test case within it called \"should return true when deployed\". Test cases should almost always be named in terms of the specific result that should occur when a given event is encountered. This makes it clear to others exactly what is being tested for."}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"We only have one thing that we need to check for the unit tests we'll build to solve these challenges, which is that we can cause the challenge's "},{type:b,tag:n,props:{},children:[{type:a,value:z}]},{type:a,value:" method to return "},{type:b,tag:n,props:{},children:[{type:a,value:I}]},{type:a,value:". In this case, all we have to do is deploy the challenge in order to pass the test."}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"Running through the test line by line, we have a number of things happening. The first line retrieves an instance of a "},{type:b,tag:C,props:{href:"https:\u002F\u002Fdocs.ethers.io\u002Fv5\u002Fapi\u002Fcontract\u002Fcontract-factory\u002F",rel:[D,E,F],target:G},children:[{type:a,value:"ethers.js ContractFactory"}]},{type:a,value:". We pass it the Contract's name, and it will return us something that we can deploy. For simplicity, we will usually be deploying to the "},{type:b,tag:C,props:{href:"https:\u002F\u002Fhardhat.org\u002Fhardhat-network\u002F",rel:[D,E,F],target:G},children:[{type:a,value:"Hardhat network"}]},{type:a,value:" in our tests. This is a slightly contrived environment, but it allows us a lot of control over what happens, allowing us to perform tests that otherwise might take hours, in a matter of seconds."}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"The second line asynchronously deploys the contract, returning an instance we can interact with. In order to interact with the contract, we need to then wait for the transaction to be mined by awaiting the async "},{type:b,tag:n,props:{},children:[{type:a,value:X}]},{type:a,value:" method. Fortunately the Hardhat Network automatically mines transactions in the order they are received, so this call is almost instant."}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"Finally, the test makes sure that we've successfully deployed the contract by calling the "},{type:b,tag:n,props:{},children:[{type:a,value:z}]},{type:a,value:" method, and using the "},{type:b,tag:C,props:{href:"https:\u002F\u002Fwww.chaijs.com\u002F",rel:[D,E,F],target:G},children:[{type:a,value:"chai"}]},{type:a,value:" assertion library to confirm that it returns "},{type:b,tag:n,props:{},children:[{type:a,value:I}]},{type:a,value:". We will use this pattern at, or near the end of each test, to prove that we have solved the task."}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"To run this test, run "},{type:b,tag:n,props:{},children:[{type:a,value:"npx hardhat test test\u002Fwarmup\u002Fdeploy-challenge.ts"}]},{type:a,value:". This should produce a successful test run as so:"}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:b,tag:"img",props:{alt:"VS Code Terminal - Test Run Success",src:"\u002Fimages\u002Fcontent\u002Flearning-smart-contract-security-1\u002F01-test-success.png"},children:[]}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"Success! We've completed the task without going and searching for Ropsten testnet Ethereum! Now, let's try the next warmup - "},{type:b,tag:C,props:{href:"https:\u002F\u002Fcapturetheether.com\u002Fchallenges\u002Fwarmup\u002Fcall-me\u002F",rel:[D,E,F],target:G},children:[{type:a,value:"Call Me"}]},{type:a,value:". This challenge tests that we're able to interact with a Smart Contract. This challenge is simpler to complete inside a Hardhat development environment than it is to do via a wallet like "},{type:b,tag:C,props:{href:"https:\u002F\u002Fwww.myetherwallet.com\u002F",rel:[D,E,F],target:G},children:[{type:a,value:"MyEtherWallet"}]},{type:a,value:". In fact, our test to complete this challenge will look almost identical to the last one."}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"Again, the first thing we'll do is create "},{type:b,tag:n,props:{},children:[{type:a,value:aP}]},{type:a,value:" and paste in the challenge's Smart Contract code:"}]},{type:a,value:k},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:c,props:{className:[M]},children:[{type:a,value:aP}]},{type:b,tag:N,props:{className:[O,aw]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ax}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ac}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,az,Y]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ad}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:"CallMeChallenge"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:aB}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:S}]},{type:a,value:" isComplete "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"false"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n        isComplete "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:k}]}]}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"And again, let's create a new file "},{type:b,tag:n,props:{},children:[{type:a,value:aD}]},{type:a,value:" with the following content:"}]},{type:a,value:k},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:c,props:{className:[M]},children:[{type:a,value:aD}]},{type:b,tag:N,props:{className:[O,Z]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:P}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:P}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:k}]}]}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"You can see here that this is exactly the same code as the previous challenge, but our test has been renamed, and we're looking up the right challenge. If we run this now, the test will fail, because we are not calling the "},{type:b,tag:n,props:{},children:[{type:a,value:aC}]},{type:a,value:" method yet. Try it - run "},{type:b,tag:n,props:{},children:[{type:a,value:"npx hardhat test tests\u002Fcallme-challenge.ts"}]},{type:a,value:m}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"To make this test pass, we need to add a new line to our test:"}]},{type:a,value:k},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:c,props:{className:[M]},children:[{type:a,value:aD}]},{type:b,tag:N,props:{className:[O,Z]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:P}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:P}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F When we call this method, the challenge will be marked as complete"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:k}]}]}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"Now, running "},{type:b,tag:n,props:{},children:[{type:a,value:"npx hardhat test test\u002Fwarmup\u002Fcall-me-challenge.ts"}]},{type:a,value:" will pass! Success!"}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"Let's run through the final warmup challenge before we sign off for today. This one's a bit more interesting than the last couple, as not only does it show how 2 smart contracts can interact with each other, but we also need to make a small modification to it in order to make it work in Hardhat. The reason we have to do this is that the code shown on the challenge's page is not exactly the same code that is running on at the contract's actual address. It is basically just enough information to pass the challenge using traditional tools like Metamask and MyEtherWallet."}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"To start off this challenge, create a contract with the following code:"}]},{type:a,value:k},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:c,props:{className:[M]},children:[{type:a,value:"contracts\u002Fwarmup\u002FNicknameChallenge.sol"}]},{type:b,tag:N,props:{className:[O,aw]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ax}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ac}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,az,Y]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F Relevant part of the CaptureTheEther contract."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ad}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:au}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"mapping"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:V}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aR}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:S}]},{type:a,value:" nicknameOf"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:aS}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n        nicknameOf"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]},{type:a,value:"msg"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"sender"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F Challenge contract. You don't need to do anything with this; it just verifies"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F that you set a nickname for yourself."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ad}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aU}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:V}]},{type:a,value:" player"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F Your address gets passed in as a constructor parameter."}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:V}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n        player "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"\u002F\u002F Check that the first character is not null."}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:V}]},{type:a,value:" deployedAt"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"view"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aJ}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n        CaptureTheEther cte "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aL}]},{type:a,value:" cte"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"nicknameOf"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"!="}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:H}]}]}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"You can see here that we've moved the lookup of the referred Smart Contract inside the "},{type:b,tag:n,props:{},children:[{type:a,value:z}]},{type:a,value:" method, and added a "},{type:b,tag:n,props:{},children:[{type:a,value:aW}]},{type:a,value:" address parameter. This lets us tell our NicknameChallenge contract where to find the instance of the CaptureTheEther contract on which to check that your nickname has been set."}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"Now, let's set up our unit test. This one's going to be a little more advanced than the tests we've done so far, too - so that we can more closely mimic how we'd solve this challenge using a Hardhat script, and also explore the mocha testing environment in a little more detail, too. Create your test file as follows:"}]},{type:a,value:k},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:c,props:{className:[M]},children:[{type:a,value:"test\u002Fwarmup\u002Fnickname-challenge.ts"}]},{type:b,tag:N,props:{className:[O,Z]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:P}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:P}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"let"}]},{type:a,value:" backendAddress"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aR}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:bc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n    backendAddress "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:bc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"should return true after we set our nickname\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"getSigners"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bd}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:" setNicknameTx "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:" backend\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"connect"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"ethers"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"utils"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"formatBytes32String"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"n00bsys0p\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:" setNicknameTx"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"wait"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:u}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"backend"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:k}]}]}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"Here, we use mocha's "},{type:b,tag:n,props:{},children:[{type:a,value:aF}]},{type:a,value:" method to set up our \"Backend\" contract, which is our deployed instance of the "},{type:b,tag:n,props:{},children:[{type:a,value:au}]},{type:a,value:" contract. We also assign the variable "},{type:b,tag:n,props:{},children:[{type:a,value:aG}]},{type:a,value:" within the "},{type:b,tag:n,props:{},children:[{type:a,value:aF}]},{type:a,value:" method, so that we can interact with it, as we need to know where it's been deployed to in order to do so."}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"The meat of this test is where we "},{type:b,tag:n,props:{},children:[{type:a,value:bd}]},{type:a,value:" to the instance of "},{type:b,tag:n,props:{},children:[{type:a,value:au}]},{type:a,value:" deployed at "},{type:b,tag:n,props:{},children:[{type:a,value:aG}]},{type:a,value:", call the "},{type:b,tag:n,props:{},children:[{type:a,value:aE}]},{type:a,value:" method and wait for the transaction to be mined. We then call our modified "},{type:b,tag:n,props:{},children:[{type:a,value:z}]},{type:a,value:" method, passing in the address at which the backend is deployed. If all has gone well, we've got a third and final successful call on the Capture The Ether warmup section. As before, run "},{type:b,tag:n,props:{},children:[{type:a,value:"npx hardhat test test\u002Fwarmup\u002Fnickname-challenge.ts"}]},{type:a,value:" to see that the test passes successfully."}]},{type:a,value:k},{type:b,tag:s,props:{},children:[{type:a,value:"That's all we're going to cover for today, but we'll soon have a go at section 2 - Lotteries. That's where things start getting a lot more fun."}]}]},dir:"\u002Fposts",path:"\u002Fposts\u002Flearning-smart-contract-security-1",extension:".md",readingStats:{text:"9 min read",minutes:8.245,time:494700,words:1649},postedAgo:"11 minutes ago"}}],fetch:{},mutations:void 0}}("text","element","span","token","punctuation"," ","keyword","function","(",")","\n",";",".","code","operator","\n    ","{","}","p","string","await","=",",","const","\n\n    ","isComplete","builtin","\n  ","a","nofollow","noopener","noreferrer","_blank","\n\n","true"," challenge","div","nuxt-content-highlight","filename","pre","line-numbers","import","from","comment","public","boolean"," ethers","address","getContractFactory","deployed","number","language-typescript",":","\n      ","async","deploy","solidity","contract","class-name","[","]"," expect ","\"chai\""," ethers ","\"hardhat\"","describe","it"," Challenge "," challenge "," Challenge","expect","to","equal","\"CallMeChallenge\"","CaptureTheEther","player","language-solidity","pragma","^","version","0.4.21","bool","callme","test\u002Fwarmup\u002Fcall-me-challenge.ts","setNickname","before","backendAddress","2022-02-27T15:57:17.000Z","contracts\u002Fwarmup\u002FDeployChallenge.sol","returns","\n        ","return","hardhat.config.ts","\n        version","\"DeployChallenge\"","contracts\u002Fwarmup\u002FCallMeChallenge.sol","\"should return true after we call the method\"","=\u003E","bytes32"," nickname","NicknameChallenge"," _player","deployedAt","0","\"NicknameChallenge\"","\n\n  "," Backend ","\"CaptureTheEther\""," backend "," Backend"," backend","attach")));