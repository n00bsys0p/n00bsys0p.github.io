__NUXT_JSONP__("/posts/nifty-ram-dumpsort-script", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X){return {data:[{post:{slug:"nifty-ram-dumpsort-script",description:"An extremely useful RAM dump and sort script for Linux",title:"Nifty RAM Dump\u002FSort script",imagesource:"https:\u002F\u002Fcommons.wikimedia.org\u002Fwiki\u002FFile:2008-07-12_Durham_recycling_bins_at_the_curb.jpg",imagecredit:"Ildar Sagdejev",image:"2009.04.24T14:00:00_nifty-ram-dumpsort-script.jpg",createdAt:z,updatedAt:z,toc:[],body:{type:"root",children:[{type:b,tag:l,props:{},children:[{type:a,value:"Hello again! Second post in one day! Whooo! Just a quick one though because I want to go home! It's 5 o'clock!"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"I've been charged recently with helping to track down somebody else's (grr!) memory leak in a piece of software. The program was eating about 30% of our server's 2Gb of RAM. It seemed to make sense to do some kind of RAM dump."}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"As with most things linux oriented, as soon as you know how to access the relevant doohickies, the entire thing's a piece of cake, so I wrote a little script so I could do the entire process again. It really is simple, but it's such a useful little doobrie that I had to post it."}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"WARNING: I have not written "},{type:b,tag:"em",props:{},children:[{type:a,value:"any"}]},{type:a,value:" error checking into this, so you may want to write some break points or something into it before running."}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Stage 1: The script frees any unused memory by synchronising any loose data then passing a number to \u002Fproc\u002Fsys\u002Fvm\u002Fdrop_caches."}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Stage 2: It then uses "},{type:b,tag:"strong",props:{},children:[{type:a,value:"dd"}]},{type:a,value:" as root to take a byte-for-byte copy of the current contents of the RAM from \u002Fdev\u002Fmem."}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Stage 3: It then parses any ascii characters from it and passes it through various sorting procedures to come up with a list of strings found in the RAM sorted from least found to most commonly found."}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Anyway... Here's the script (special thanks to Wordpress for utterly destroying any semblance of formatting):"}]},{type:a,value:f},{type:b,tag:"div",props:{className:["nuxt-content-highlight"]},children:[{type:b,tag:"pre",props:{className:["language-bash","line-numbers"]},children:[{type:b,tag:"code",props:{},children:[{type:b,tag:c,props:{className:[d,"shebang","important"]},children:[{type:a,value:"#!\u002Fbin\u002Fbash"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:"IMGFILE"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C},{type:b,tag:c,props:{className:[d,h]},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:D}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:s}]}]},{type:a,value:".img\""}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A,h]},children:[{type:a,value:"TXTFILE"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:C},{type:b,tag:c,props:{className:[d,h]},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:D}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:s}]}]},{type:a,value:".txt\""}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:k}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:F}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:k}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"\"*       n00bsys0p's RAM dumper and sorter      *\""}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:k}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"\"*               written 04\u002F2009                *\""}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:k}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"\"*     Use it for whatever the hell you want    *\""}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:k}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"\"*      and don't blame me if you hose your     *\""}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:k}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"\"*           computer by being a retard         *\""}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:k}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:F}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:k}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"\"Stage 1 (Freeing unused RAM). Requires root privileges.\""}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:G}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:H}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,I,J]},children:[{type:a,value:K}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:L}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,M]},children:[{type:a,value:N}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:v}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:P}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:k}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:S}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:T}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"\"sync; echo 3 &gt; \u002Fproc\u002Fsys\u002Fvm\u002Fdrop_caches\""}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:k}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"\"Stage 2 (RAM dump). Also requires root privileges...\""}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:G}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:H}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,I,J]},children:[{type:a,value:K}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:L}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,M]},children:[{type:a,value:N}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:v}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:P}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:k}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:R}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:T}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"\"dd if=\u002Fdev\u002Fmem of="},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:r}]},{type:a,value:" &amp;&amp; chmod a+rw "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:r}]},{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:k}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x},{type:b,tag:c,props:{className:[d,u],title:n},children:[{type:a,value:n}]},{type:a,value:"\\\nRAM Dumped to "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:r}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,u],title:n},children:[{type:a,value:n}]},{type:a,value:"\\\nStage 3 (Sort "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:r}]},{type:a,value:"). This may take a very long time...\""}]},{type:a,value:"\nstrings "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:r}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:y}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:W}]},{type:a,value:" -fd "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:y}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"uniq"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:y}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:W}]},{type:a,value:" -n "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"&"}]},{type:a,value:"gt"},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:v}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:X}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:k}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x},{type:b,tag:c,props:{className:[d,u],title:n},children:[{type:a,value:n}]},{type:a,value:"\\\nRAM dump sorted in "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:X}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,u],title:n},children:[{type:a,value:n}]},{type:a,value:"\\\nItems are listed and numbered by order of occurrence.\""}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Hope it's useful to someone."}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"n00b"}]}]},dir:"\u002Fposts",path:"\u002Fposts\u002Fnifty-ram-dumpsort-script",extension:".md",readingStats:{text:"3 min read",minutes:2.025,time:121500,words:405},postedAgo:"13 years ago"}}],fetch:{},mutations:void 0}}("text","element","span","token"," ","\n","string","variable","builtin","class-name","echo","p","operator","\\n","function","punctuation","keyword","$IMGFILE","`","\n\n","entity",";"," -c ","\"","|","2009-04-24T14:00:00.000Z","assign-left","=","\"ramdump-","date"," +%d%m%y","\"************************************************\"","if","[","environment","constant","$UID","==","number","0","]","then","\n        ","\"Already root, continuing\"","fi","su"," -e ",".","sort","$TXTFILE")));