{"_path":"/posts/crontab-not-running-scripts-fix","_dir":"posts","_draft":false,"_partial":false,"_locale":"","title":"Crontab Not Running Scripts Fix","description":"A possible fix if Cron isn't running your own custom jobs","imagesource":null,"imagecredit":null,"imageFilename":"2011.11.09T150000_crontab-not-running-scripts-fix.jpg","createdAt":"2011-11-09T15:00:00","updatedAt":"2011-11-09T15:00:00","readingTime":{"text":"1 min read","minutes":0.065,"time":3900,"words":13},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Hi guys!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Just a quick post this time. I came across a problem where a VM wasn't running the scripts I'd configured in its crontab. No matter what I did, run-parts just dropped straight through as if there were no scripts in cron's hourly folder. I read the man page for run-parts and found the following snippet..."}]},{"type":"element","tag":"ng","props":{"prism":"","className":["language-markup"]},"children":[{"type":"text","value":"the names must consist entirely of ASCII upper- and lower-case letters,\nASCII digits, ASCII underscores, and ASCII minus-hyphens\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"My scripts were named with a .sh suffix, which meant that they had a non-specified character: the \".\""}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I renamed them with the following script, after which, cron ran the scripts perfectly, and on time:"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"cd /etc/cron.hourly\nfor FILE in *.sh; do\n    mv $FILE ${FILE/.sh/}\ndone\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /etc/cron.hourly\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" FILE "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" *.sh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"do\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"    mv"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" $FILE ${FILE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":".sh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"done\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To test this, you can execute run-parts manually:"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"run-parts --verbose /etc/cron.hourly\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"run-parts"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --verbose"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /etc/cron.hourly\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In conclusion, this entire post can be shortened into 4 letters: RTFM ;-)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Anyway, just a quick one today. Feel free to leave any feedback in the comments, or via my contact page!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"n00b"}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:posts:2011-11-09-crontab-not-running-scripts-fix.md","_source":"content","_file":"posts/2011-11-09-crontab-not-running-scripts-fix.md","_stem":"posts/2011-11-09-crontab-not-running-scripts-fix","_extension":"md"}