{"_path":"/posts/zsh-ohmyzsh-starship-rust","_dir":"posts","_draft":false,"_partial":false,"_locale":"","title":"ZSH, Oh My ZSH and Starship","description":"My current preferred shell & prompt combination","imagesource":"alexshepherd.me","imagecredit":"Alex Shepherd, Oh My ZSH & Starship","image":"2022.08.26T183740_zsh-ohmyzsh-starship-rust.png","createdAt":"2022-08-26T18:37:40","updatedAt":"2022-08-26T18:37:40","readingTime":{"text":"3 min read","minutes":2.285,"time":137100,"words":457},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Hello all,"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I've been working with this shell and prompt combination for a while across a variety of platforms (Linux, MacOS & WSL), and I'm sure that some of you will also like the prompt on your dev rig set up in a similar way - with the added benefit that "},{"type":"element","tag":"a","props":{"href":"https://www.zsh.org","rel":["nofollow"]},"children":[{"type":"text","value":"ZSH"}]},{"type":"text","value":" is highly customisable, so you can very easily swap and change things to your personal tastes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This guide should work on almost any flavour of Linux or MacOS, but I'll be explaining based on installing on Ubuntu 22.04. MacOS has the benefit of already having ZSH as its default shell, so you can skip the step of setting that up and move straight on to Oh My ZSH and Starship."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To install ZSH on Ubuntu, either run "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sudo apt install zsh"}]},{"type":"text","value":" from CLI or select ZSH from the Software Center. Now, to install "},{"type":"element","tag":"a","props":{"href":"https://ohmyz.sh/","rel":["nofollow"]},"children":[{"type":"text","value":"Oh My ZSH"}]},{"type":"text","value":", follow the instructions on their web page. The simplest option is to use curl or wget to run the script directly from Github. You will need "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"git"}]},{"type":"text","value":" and either "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"curl"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"wget"}]},{"type":"text","value":" to install it."}]},{"type":"element","tag":"pre","props":{"className":"language-shell shiki shiki-themes github-dark","code":"sh -c \"$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\"\n","language":"shell","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -c"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" \"$("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"curl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -fsSL"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\"\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The installer will reconfigure your "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.zshrc"}]},{"type":"text","value":", and save the old one in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.zshrc.pre-oh-my-zsh"}]},{"type":"text","value":", in case you want to refer back to it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"At this point, if you chose all the default values, your terminal prompt should look something like this:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Oh My ZSH Prompt","src":"/images/content/zsh-ohmyzsh-starship-rust/01-prompt-ohmyzsh.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The final stage here is to install "},{"type":"element","tag":"a","props":{"href":"https://starship.rs","rel":["nofollow"]},"children":[{"type":"text","value":"Starship"}]},{"type":"text","value":". You'll first need to install a "},{"type":"element","tag":"a","props":{"href":"https://www.nerdfonts.com","rel":["nofollow"]},"children":[{"type":"text","value":"Nerd Font"}]},{"type":"text","value":", in order to be able to show all the special characters that Starship uses."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After installing the font, set up your terminal to use it by default. In Ubuntu's default terminal this is done under Preferences -> Profiles by ticking the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Custom font"}]},{"type":"text","value":" checkbox and selecting the font you want it to use."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once this is done, you just need to run a single command to install the Starship prompt:"}]},{"type":"element","tag":"pre","props":{"className":"language-shell shiki shiki-themes github-dark","code":"curl -sS https://starship.rs/install | sh\n","language":"shell","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"curl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -sS"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://starship.rs/install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" sh\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will try to install to /usr/local/bin, but I prefer to install to ~/.local/bin as I only need it for my own user. To do this, use the following sequence of commands:"}]},{"type":"element","tag":"pre","props":{"className":"language-shell shiki shiki-themes github-dark","code":"mkdir -p ~/.local/bin\ncurl -sS https://starship.rs/install | sh -s -- -b ~/.local/bin\n","language":"shell","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"mkdir"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ~/.local/bin\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"curl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -sS"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://starship.rs/install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" sh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -s"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -b"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ~/.local/bin\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally, initialise Starship in each shell by adding the following to the bottom of your "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.zshrc"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"className":"language-shell shiki shiki-themes github-dark","code":"export PATH=\"$HOME/.local/bin:$PATH\"\neval \"$(starship init zsh)\"\n","language":"shell","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" PATH"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$HOME"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"/.local/bin:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$PATH"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"eval"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" \"$("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"starship"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" init zsh)\"\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now whenever you open your terminal, you should be greeted by a simple, beautiful prompt like so:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Starship Prompt - Basic","src":"/images/content/zsh-ohmyzsh-starship-rust/02-prompt-starship-basic.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Where Starship really shines is when developing software. For the below screenshot, I've cloned the "},{"type":"element","tag":"a","props":{"href":"https://laravel.com","rel":["nofollow"]},"children":[{"type":"text","value":"Laravel"}]},{"type":"text","value":" repository and made a small change in the README.md. You can see that it's picked up the branch and all versions of relevant frameworks used - in this case NodeJS and PHP. It also picks up when we have unstaged, staged changes or unsynchronised changes in the repository."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Starship Prompt - Git & Frameworks","src":"/images/content/zsh-ohmyzsh-starship-rust/03-prompt-starship-git-frameworks.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I hope that's been useful for as someone else as it is for me. Until next time!"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:posts:2022-08-26-zsh-ohmyzsh-starship-rust.md","_source":"content","_file":"posts/2022-08-26-zsh-ohmyzsh-starship-rust.md","_stem":"posts/2022-08-26-zsh-ohmyzsh-starship-rust","_extension":"md"}