{"_path":"/posts/western-digital-advanced-format-vs-linux-woes","_dir":"posts","_draft":false,"_partial":false,"_locale":"","title":"Western Digital Advanced Format vs. Linux Woes","description":"How to partition a Western Digital Advanced Format drive in Linux","imagesource":null,"imagecredit":null,"image":"2013.01.23T150000_western-digital-advanced-format-vs-linux-woes.png","createdAt":"2013-01-23T15:00:00","updatedAt":"2013-01-23T15:00:00","readingTime":{"text":"1 min read","minutes":0.02,"time":1200,"words":4},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Hi folks,"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I've been using WD's Advanced Format disks recently, and have to say that I'm particularly unimpressed with WD for how they've dealt with Linux support, but never fear - I'm here to help!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The problem was, when I used fdisk to create the partitions, it moaned like a blocked drain about the fact that the logical and physical sectors were misaligned, and told me that this would seriously negatively affect the access speeds. After a little reading up on it, the actual process for creating the disk is a lot simpler than many people were willing to admit. Anyway, here's a mini-howto:"}]},{"type":"element","tag":"h2","props":{"id":"step-1-start-fdisk"},"children":[{"type":"text","value":"Step 1 - Start fdisk"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You start fdisk by using the following command:"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"fdisk -c=nondos -u=sectors /dev/sd[x]\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"fdisk"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -c=nondos"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -u=sectors"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /dev/sd[x]\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Just replace the [x] with the letter of the drive you want to edit. In my case, this was /dev/sdb"}]},{"type":"element","tag":"h2","props":{"id":"step-2-create-a-partition"},"children":[{"type":"text","value":"Step 2 - Create a partition"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Press \"n\" -> [Enter] to create a new partition."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nPress \"1\" -> [Enter] to make it partition #1."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nType \"2048\" to make it start on a sector which matches up with the WD Advanced Format sector boundary."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nTo enter a size, use the \"+size{M,G}\" format. This will ensure that your partitions have boundaries which work with the  WD Advanced Format drive sector sizes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This logic extends for all partitions you create. Make sure the starting sector for the partition is divisible by 2048. Why WD have chosen to make it extra-complicated to use their HDDs in Linux is anybody's guess, but thankfully there are enough talented Linux gurus out there to put paid to their dastardly schemes!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As always, if anybody has any questions, leave them in the comments. I'll do my best to answer every single one!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"n00b"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"step-1-start-fdisk","depth":2,"text":"Step 1 - Start fdisk"},{"id":"step-2-create-a-partition","depth":2,"text":"Step 2 - Create a partition"}]}},"_type":"markdown","_id":"content:posts:2013-01-23-western-digital-advanced-format-vs-linux-woes.md","_source":"content","_file":"posts/2013-01-23-western-digital-advanced-format-vs-linux-woes.md","_stem":"posts/2013-01-23-western-digital-advanced-format-vs-linux-woes","_extension":"md"}