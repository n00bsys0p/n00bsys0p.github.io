{"_path":"/posts/find-dev-entries-any-loaded-kernel-module","_dir":"posts","_draft":false,"_partial":false,"_locale":"","title":"Find /dev entries for any loaded kernel module.","description":"Access the correct raw device for your hardware","imagesource":null,"imagecredit":null,"imageFilename":"2011.07.11T140000_find-dev-entries-any-loaded-kernel-module.jpg","createdAt":"2011-07-11T14:00:00","updatedAt":"2011-07-11T14:00:00","readingTime":{"text":"1 min read","minutes":0.01,"time":600,"words":2},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Hey folks, just got a quick one for you."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Recently, I needed to find out to which /dev entries a particular driver was attached. For this, I did the following."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First, navigate to /sys. This is where kernel information is stored about devices and drivers. Under here, you'll notice folders like \"block\" (for storage devices) and \"bus\" for pluggable items such as USB devices and PCI cards."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We are going to be looking in \"bus\", as the device I am looking for is connected via USB. From /sys/bus, navigate to usb/drivers, and you will see a list of all drivers currently attached to devices connected via USB."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"From here, I needed the ftdi_sio driver, so I cd'd into the folder, and had a look around. Nothing which makes much sense so far, but bear with me. There will be one or multiple symlinks in this folder, which consists of numbers, hyphens, colons and dots. These link to each device's sysfs folder. Run the command:"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"ls [0-9]*/\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"ls"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" [0-9]"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"/\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will look in any folder which starts with a number (in this case our two device folders). Within these folders should be your information. In my case, there was a folder in each of them called ttyUSB? (where the ? was a number)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now I knew that I just had to connect my program to /dev/ttyUSB? to communicate with the devices."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If there's anything anybody doesn't understand about this, feels that I could explain better, or simply wants to know more about, then feel free to let me know via the comments."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Have a great day!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"n00b"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:posts:2011-07-11-find-dev-entries-any-loaded-kernel-module.md","_source":"content","_file":"posts/2011-07-11-find-dev-entries-any-loaded-kernel-module.md","_stem":"posts/2011-07-11-find-dev-entries-any-loaded-kernel-module","_extension":"md"}